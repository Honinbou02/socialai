import{h as o}from"./moment-a9aaa855.js";import{_ as b}from"./NoDataFound-fb4d7f40.js";import{_ as M}from"./Paginate-2104b717.js";import{s as C}from"./sharedComposable-624eb874.js";import{_ as I}from"./PageHeader-8760edd0.js";import{_ as E}from"./UserLayout-3d8e0176.js";import{y as h,m as B,o as r,c as l,b as e,a as v,F as u,r as p,t,e as m,u as c,k as j,i as g,g as N,n as w}from"./app-eeb1ee89.js";import"./toastComposable-88b306f2.js";import"./actionModalComposable-f268749a.js";import"./dropdown-45d66330.js";const z={class:"container flex-grow p-4 sm:p-6"},P={class:"flex items-center justify-between"},$={class:"mb-4 flex items-center justify-between"},S={class:"card max-w-max p-1"},V=["onClick"],W={class:"capitalize"},L={key:0,class:"alert alert-danger text-base"},T={key:1,class:"alert alert-danger text-base"},F={key:2,class:"alert alert-warning text-base"},A={key:3,class:"mt-3 grid grid-cols-1 rounded-xl border border-primary-400 lg:grid-cols-12"},H={class:"col-span-1 flex flex-col justify-center gap-2 p-4 lg:col-span-7 lg:p-8"},O={class:"text-gray-400"},U={class:"col-span-1 flex gap-3 border-l border-primary-400 p-4 lg:col-span-5 lg:p-8"},q={class:"mt-3 whitespace-nowrap text-3xl text-primary-500 lg:text-5xl"},G={class:"px-2"},J={class:"text-primary-500"},K={class:"my-8 grid grid-cols-1 gap-14 lg:grid-cols-3"},Q={key:0,class:"absolute -left-1 top-9 max-w-max rounded-r-xl bg-primary-600 px-4 capitalize text-primary-50"},R={class:"text-center text-2xl text-gray-400"},X={class:"my-8 flex justify-center gap-2"},Z={class:"text-3xl"},ee={class:"text-4xl"},te={class:"flex flex-col gap-2"},se={class:"ml-2 text-sm"},ae={class:"ml-2 text-sm"},re=["href"],le={class:"mb-2"},ne={key:5,class:"table-responsive whitespace-nowrap rounded-primary"},ie={class:"ert-table table"},oe={class:"text-center"},ce={class:"border-0"},de={class:"text-center"},ue=N({layout:E}),we=Object.assign(ue,{__name:"Index",props:["user","plans","orders","segments","planByDays"],setup(n){const d=n,{formatCurrency:y}=C(),k=h(()=>d.user.will_expire?o(d.user.will_expire).diff(o(),"days")<7:!1),Y=h(()=>d.user.will_expire?o(d.user.will_expire).isBefore(o()):!1),f=B("monthly"),_=h(()=>d.plans.filter(a=>f.value==="monthly"?parseInt(a.days)===30:f.value==="yearly"?parseInt(a.days)===365:parseInt(a.days)>365));return(a,D)=>{var x;return r(),l("main",z,[e("div",P,[v(I,{title:"Subscription",buttons:[]}),e("div",$,[e("div",S,[(r(!0),l(u,null,p(n.planByDays,s=>(r(),l("button",{key:parseInt(s.days),class:w(["btn w-full px-14 py-2 md:w-auto",{"btn-primary":f.value===s.duration}]),onClick:i=>f.value=s.duration},[e("span",W,t(s.duration),1)],10,V))),128))])])]),!n.user.will_expire||!n.user.plan||!n.user.plan_id?(r(),l("div",L,[e("p",null,t(a.trans("You haven't purchased any subscription plans yet.")),1)])):m("",!0),Y.value?(r(),l("div",T,[e("p",null,t(a.trans("Your subscription has already expired")),1)])):k.value?(r(),l("div",F,[e("p",null,t(a.trans("Your current subscription plan is about to expire in some days")),1)])):m("",!0),n.user.will_expire!=null?(r(),l("div",A,[e("div",H,[e("h4",null,t(a.trans("Current Plan"))+" ("+t(n.user.plan.title)+")",1),e("p",O,t(a.trans(`Unlimited access to our legal document library and online rental application tool,
          billed monthly.`)),1)]),e("div",U,[e("p",q,t(c(y)(n.user.plan.price)),1),e("div",G,[e("p",J,t(parseInt(n.user.plan.days)===30?"Monthly":parseInt(n.user.plan.days)===365?"Yearly":"Lifetime")+" "+t(a.trans("Plan")),1),e("span",null,[j(t(a.trans("Your subscription will expire"))+" ",1),e("span",null,t(c(o)(n.user.will_expire).format("MMM DD, YYYY")),1)])])])])):m("",!0),e("div",K,[(r(!0),l(u,null,p(_.value,s=>(r(),l("div",{key:s.id,class:w(["flex flex-col justify-between overflow-hidden rounded-xl px-12 py-8 shadow-md",{"card relative border-2 border-primary-500 ":s.is_recommended,"border border-gray-200 dark:border-gray-700":s.is_recommended===0}])},[s.is_recommended?(r(),l("div",Q,t(a.trans("popular")),1)):m("",!0),e("div",R,t(s.title),1),e("div",X,[e("span",Z,t(c(y)(s.price)[0]),1),e("span",ee,t(s.price),1),e("span",null,t(parseInt(s.days)===30?"Monthly":parseInt(s.days)===365?"Yearly":"Lifetime"),1)]),e("ul",te,[(r(!0),l(u,null,p(s.data,i=>(r(),l("li",{key:i.value,class:"text-capitalize flex items-center"},[e("span",se,t(i.overview),1)]))),128)),(r(!0),l(u,null,p(s.extra_data,i=>(r(),l("li",{key:i.value,class:"text-capitalize flex items-center"},[e("span",ae,t(i.value),1)]))),128))]),e("a",{href:a.route("user.subscription.payment",s.id),class:"btn btn-soft-primary mt-6 w-full"},t(a.trans("Choose Plan")),9,re)],2))),128))]),((x=_.value)==null?void 0:x.length)<1?(r(),g(b,{key:4})):m("",!0),e("h5",le,t(a.trans("Subscription History")),1),n.orders.total?(r(),l("div",ne,[e("table",ie,[e("thead",null,[e("tr",null,[e("th",null,t(a.trans("Invoice No")),1),e("th",null,t(a.trans("Plan")),1),e("th",null,t(a.trans("Amount")),1),e("th",null,t(a.trans("Tax")),1),e("th",null,t(a.trans("Status")),1),e("th",null,t(a.trans("Expire Date")),1),e("th",oe,t(a.trans("Created Date")),1)])]),e("tbody",ce,[(r(!0),l(u,null,p(n.orders.data,s=>{var i;return r(),l("tr",{key:s.id},[e("td",null,t(s.invoice_no),1),e("td",null,t((i=s.plan)==null?void 0:i.title),1),e("td",null,t(c(y)(s.amount)),1),e("td",null,t(c(y)(s.tax)),1),e("td",null,t(s.status),1),e("td",null,t(c(o)(s.will_expire).format("DD MMM, YYYY")),1),e("td",de,t(c(o)(s.created_at).format("DD MMM, YYYY")),1)])}),128))])])])):(r(),g(b,{key:6})),v(M,{links:n.orders.links},null,8,["links"])])}}});export{we as default};
