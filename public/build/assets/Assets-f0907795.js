import{_ as j}from"./FilterDropdown-67369413.js";import{_ as B}from"./NoDataFound-fb4d7f40.js";import{_ as I}from"./Paginate-2104b717.js";import{s as T}from"./sharedComposable-624eb874.js";import{_ as D}from"./FloatingDropdown-d526df31.js";import{h as C,q as F,o as a,c as i,r as N,b as e,a as l,j as b,i as $,t as g,e as n,u as z,d as O,F as v,m as x,T as q,y as L,n as k,g as S,Z as U}from"./app-eeb1ee89.js";import{_ as V}from"./CreatePostCard-5225123e.js";import{_ as E}from"./UserLayout-3d8e0176.js";import"./SpinnerBtn-b72a47b7.js";import"./toastComposable-88b306f2.js";import"./actionModalComposable-f268749a.js";import"./dropdown-45d66330.js";const M={class:"absolute right-1 top-1 z-10"},P={class:"flex h-full flex-col"},W={class:"text-sm"},G={class:"text-sm"},R={key:0,class:"h-52 w-full object-cover",alt:"image"},Z={key:1,controls:"",class:"h-52 w-full"},H=["src"],J={key:2,controls:"",class:"h-52 w-full"},K=["src"],Q=["src"],X={class:"ml-auto mt-1 flex max-w-max items-center rounded-md px-1"},Y=e("i",{class:"bx bx-file-blank mr-1 text-base"},null,-1),ee={class:"text-xs font-semibold capitalize"},w={__name:"AssetCard",props:{assets:[Object,Array]},setup(_){const{deleteRow:c}=T();return(s,f)=>{const m=C("Icon"),d=C("Link"),u=F("lazy");return a(!0),i(v,null,N(_.assets,(t,y)=>(a(),i("div",{key:y,class:"relative h-60 overflow-hidden rounded-lg border border-gray-200 dark:border-gray-800"},[e("div",M,[l(D,{"btn-type":"icon","icon-name":"bx:dots-vertical-rounded",btnClass:"p-1 bg-dark-100 dark:bg-dark-800 rounded-full"},{default:b(()=>[e("div",P,[t.mime_type==="image"?(a(),$(d,{key:0,href:s.route("user.image-editor.edit",t.uuid),class:"dropdown-link py-1.5"},{default:b(()=>[l(m,{icon:"fe:edit"}),e("span",W,g(s.trans("Edit")),1)]),_:2},1032,["href"])):n("",!0),l(d,{as:"button",class:"dropdown-link py-1.5",onClick:h=>z(c)(s.route("user.assets.destroy",t.id))},{default:b(()=>[l(m,{icon:"fe:trash"}),e("span",G,g(s.trans("Delete")),1)]),_:2},1032,["onClick"])])]),_:2},1024)]),t.mime_type==="image"?O((a(),i("img",R,null,512)),[[u,t.path]]):n("",!0),t.mime_type==="video"?(a(),i("video",Z,[e("source",{src:t.path,type:"video/mp4"},null,8,H)])):n("",!0),t.mime_type==="voice"?(a(),i("audio",J,[e("source",{src:t.path,type:"audio/wav"},null,8,K),e("source",{src:t.path,type:"audio/mp3"},null,8,Q)])):n("",!0),e("div",X,[Y,e("span",ee,g(t.file_size)+" MB",1)])]))),128)}}},se={class:"container flex-grow p-4 sm:p-6"},te={class:"mt-4 flex items-start justify-between md:items-center"},oe={class:"card max-w-max p-1"},ae=e("span",{class:"text-xs md:text-sm"},"All",-1),le=[ae],ie=e("span",{class:"text-xs md:text-sm"},"Uploads",-1),ne=[ie],re=e("span",{class:"text-xs md:text-sm"},"Ai Generated",-1),ce=[re],de={class:"w-80"},ue={class:"mt-8"},pe={class:"grid w-full grid-cols-1 gap-6 overflow-y-auto pb-8 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},me=S({layout:E}),ze=Object.assign(me,{__name:"Assets",props:["request","assets","type"],setup(_){var h;const c=_,s=x(((h=c.request)==null?void 0:h.active_tab)??""),f=x(0),m=x(null),d=q({image:"",video:""}),u=L(()=>s.value=="uploads"?c.assets.data.filter(r=>r.type==="uploaded"):s.value=="ai"?c.assets.data.filter(r=>r.type==="generated"):c.assets.data),t=r=>{const o=r.target.files[0],p=o.type;if(p.startsWith("image/"))d.image=o;else if(p.startsWith("video/"))d.video=o;else return;d.post(route("user.assets.store"),{onProgress:A=>{f.value=A.percentage},onFinish:()=>{setTimeout(()=>f.value=0,1e3)}})},y=[{label:"File Size",value:"file_size"},{label:"Media Type",value:"mime_type"}];return(r,o)=>(a(),i(v,null,[l(z(U),{title:r.trans("Assets")},null,8,["title"]),e("main",se,[e("div",te,[e("div",oe,[e("button",{class:k(["btn w-full px-14 py-2 md:w-auto",{"btn-primary":s.value===""}]),onClick:o[0]||(o[0]=p=>s.value="")},le,2),e("button",{class:k(["btn w-full px-14 py-2 md:w-auto",{"btn-primary":s.value==="uploads"}]),onClick:o[1]||(o[1]=p=>s.value="uploads")},ne,2),e("button",{class:k(["btn w-full px-14 py-2 md:w-auto",{"btn-primary":s.value==="ai"}]),onClick:o[2]||(o[2]=p=>s.value="ai")},ce,2)]),e("div",de,[l(j,{options:y,appends:{active_tab:s.value},formOptions:{preserveState:!0}},null,8,["appends"])])]),e("div",ue,[e("div",pe,[s.value==="uploads"?(a(),i(v,{key:0},[e("input",{ref_key:"assetInput",ref:m,onInput:t,accept:"image/*,video/*",type:"file",hidden:""},null,544),l(V,{percentage:f.value,onAction:o[3]||(o[3]=p=>m.value.click()),classes:"h-60",text:"Upload New"},null,8,["percentage"]),l(w,{assets:u.value},null,8,["assets"])],64)):n("",!0),s.value==="ai"?(a(),$(w,{key:1,assets:u.value},null,8,["assets"])):n("",!0),s.value===""?(a(),i(v,{key:2},[l(w,{assets:u.value},null,8,["assets"]),l(I,{class:"col-span-full",links:_.assets.links},null,8,["links"])],64)):n("",!0)])]),u.value.length<1&&s.value!=="uploads"?(a(),$(B,{key:0})):n("",!0)])],64))}});export{ze as default};
