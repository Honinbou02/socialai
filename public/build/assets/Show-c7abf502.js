import{m as w,h as k,o as l,c as i,a as d,b as t,u as c,t as e,F as y,r as S,w as j,d as g,v as M,f as C,g as O,n as V,O as Y}from"./app-eeb1ee89.js";import{_ as z}from"./AdminLayout-7bd67f05.js";import{_ as B}from"./PageHeader-8760edd0.js";import{h as D}from"./moment-a9aaa855.js";import{s as F}from"./sharedComposable-624eb874.js";import{t as I}from"./toastComposable-88b306f2.js";import"./dropdown-45d66330.js";import"./actionModalComposable-f268749a.js";const N={class:"container flex-grow p-4 sm:pr-4"},T={class:"h-fit space-y-6"},U={class:"h-full"},$={class:"relative mx-auto rounded-primary bg-white shadow dark:bg-slate-800 2xl:w-8/12"},A={class:"flex items-center justify-between rounded-t-primary border-b border-b-slate-200 p-4 dark:border-b-slate-600"},E={class:"flex items-center justify-start gap-x-3"},L={id:"chat-btn-show-sidebar",class:"text-slate-500 hover:text-slate-700 focus:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300 dark:focus:text-slate-300 xl:hidden"},P={class:"avatar avatar-circle avatar-indicator avatar-indicator-online"},q=["src"],G={class:"whitespace-nowrap text-sm font-medium text-slate-700 dark:text-slate-100"},H={class:"whitespace-normal text-sm font-normal text-slate-500 dark:text-slate-400"},J={class:"relative max-h-[calc(100vh-18rem)] overflow-auto px-4 pb-28 md:max-h-[calc(100vh-17rem)]","data-simplebar":""},K={class:"space-y-3"},Q={class:"flex gap-x-3 group-[.pr]:flex-row-reverse"},R={class:"avatar avatar-circle avatar-sm shrink-0"},W=["src"],X={class:"flex max-w-sm flex-col items-start gap-y-2 group-[.pr]:items-end"},Z={class:"rounded-primary rounded-tl-none bg-slate-100 p-2 text-sm text-slate-600 group-[.pr]:rounded-tl-primary group-[.pr]:rounded-tr-none group-[.pr]:bg-primary-500 group-[.pr]:text-slate-100 dark:bg-slate-700 dark:text-slate-300"},tt={class:"text-xs font-normal text-slate-400"},st=t("div",{id:"chat-scroll-view"},null,-1),et={class:"absolute bottom-[-0.5px] left-0 right-0 z-10 rounded-b-primary bg-white py-4 dark:bg-slate-800"},at={class:"flex items-center justify-end gap-x-4 px-4"},ot={value:"1"},rt={value:"2"},nt={value:"0"},lt=["disabled"],it={class:"hidden md:inline-block"},dt=t("div",{id:"chat-overlay",class:"absolute inset-0 z-10 hidden h-full w-full bg-black bg-opacity-0 transition-colors duration-300 ease-in-out xl:hidden"},null,-1),ct=O({layout:z}),gt=Object.assign(ct,{__name:"Show",props:["segments","buttons","support"],setup(o){const{uiAvatar:u}=F(),m=o,a=w({message:"",status:m.support.status}),x=()=>{Y.patch(route("admin.support.update",m.support.id),{status:a.value.status,message:a.value.message},{onSuccess:()=>{a.value.message="",I.success("Submitted successfully")}})};return(r,n)=>{var h,v,_;const p=k("Icon");return l(),i("main",N,[d(B,{title:"Support",buttons:o.buttons},null,8,["buttons"]),t("div",T,[t("div",U,[t("div",$,[t("div",A,[t("div",E,[t("button",L,[d(p,{icon:"fe:menu",height:"1rem",width:"1rem"})]),t("div",P,[t("img",{class:"avatar-img",src:c(u)((h=o.support.user)==null?void 0:h.name,(v=o.support.user)==null?void 0:v.avatar),alt:"profile-img"},null,8,q)]),t("div",null,[t("h6",G,e((_=o.support.user)==null?void 0:_.name),1),t("p",H,e(r.trans("Subject :"))+" "+e(o.support.subject??""),1)])])]),t("div",J,[t("ul",K,[(l(!0),i(y,null,S(o.support.conversations,s=>{var b,f;return l(),i("li",{class:V(["group mt-5",s.is_admin!=0?"pr":""]),key:s.id},[t("div",Q,[t("div",R,[t("img",{class:"avatar-img",src:c(u)((b=s.user)==null?void 0:b.name,(f=s.user)==null?void 0:f.avatar),onerror:"this.src = '/images/avatar1.png'",alt:"profile-img"},null,8,W)]),t("div",X,[t("p",Z,e(s.comment),1),t("span",tt,e(c(D)(s.created_at).format("D MMM, YYYY")),1)])])],2)}),128))]),st]),t("div",et,[t("form",{onSubmit:j(x,["prevent"]),class:"mx-4 flex h-[4.5rem] items-center rounded-primary border border-slate-200 shadow dark:border-slate-600"},[g(t("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>a.value.message=s),class:"h-full w-full border-transparent bg-transparent px-4 text-sm text-slate-700 placeholder:text-slate-500 focus:border-transparent focus:ring-0 dark:text-slate-300 dark:placeholder:text-slate-400",type:"text",placeholder:"Type your message here"},null,512),[[M,a.value.message]]),t("div",at,[g(t("select",{class:"select w-[120px]",name:"status","onUpdate:modelValue":n[1]||(n[1]=s=>a.value.status=s)},[t("option",ot,e(r.trans("Open")),1),t("option",rt,e(r.trans("Pending")),1),t("option",nt,e(r.trans("Closed")),1)],512),[[C,a.value.status]]),t("button",{type:"submit",disabled:a.value.processing,class:"btn btn-sm btn-primary"},[d(p,{icon:"fe:send",height:"1rem",width:"1rem"}),t("span",it,e(r.trans("Send")),1)],8,lt)])],32)])]),dt])])])}}});export{gt as default};
