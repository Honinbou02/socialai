import{h as g}from"./moment-a9aaa855.js";import{_ as Y}from"./FilterDropdown-67369413.js";import{_ as F}from"./Paginate-2104b717.js";import{_ as I,a as L}from"./PostCard-567d0bb4.js";import{_ as A}from"./CreatePostCard-5225123e.js";import{s as q}from"./sharedComposable-624eb874.js";import{_ as z}from"./UserLayout-3d8e0176.js";import{u as Q}from"./Modal-3fa6cd10.js";import{m as j,l as R,h as N,o as s,c as n,a as l,u as c,b as e,n as P,t as i,j as v,F as m,r as p,e as _,g as Z,O as G,Z as H,k as E,i as J}from"./app-eeb1ee89.js";import"./SpinnerBtn-b72a47b7.js";import"./toastComposable-88b306f2.js";import"./HollowDotsSpinner-3fa22236.js";import"./InputFieldError-3a343586.js";import"./actionModalComposable-f268749a.js";import"./dropdown-45d66330.js";const K={class:"container flex-grow p-4 sm:p-6"},U={class:"mt-4 flex items-center justify-between"},W={class:"card max-w-max p-1"},X={class:"w-80"},ee={class:"mt-8"},te={key:0,class:"bg-transparent"},ae={key:0,class:"alert alert-info flex justify-center gap-3"},se={class:"dark:text-white"},re={key:1,class:"grid grid-cols-1 gap-12 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4"},ne={key:1,class:"card"},oe={key:0,class:"alert alert-info flex justify-center gap-3"},le={class:"dark:text-white"},de={key:1,class:"card-body"},ie={class:"mt-5 flex gap-3"},ce=e("i",{class:"bx bx-chevron-left text-2xl"},null,-1),ue=[ce],me=e("i",{class:"bx bx-chevron-right text-2xl"},null,-1),be=[me],fe={class:"mt-5 flex flex-wrap items-start justify-evenly gap-2"},he={class:"mb-3"},ge={key:0,class:"mt-2 rounded-lg bg-white p-1 text-sm dark:bg-slate-700"},ve=["src"],pe=["onClick"],_e=e("i",{class:"bx bx-trash"},null,-1),ke=[_e],ye=Z({layout:z}),Ye=Object.assign(ye,{__name:"Index",props:["request","hasBrand","contents","type","items","weekStartDate","weekEndDate","totalBrandPost","brands"],setup(d){var w,C;const{textExcerpt:T,getQueryParams:k,deleteRow:M}=q(),b=Q(),y=j((w=k())==null?void 0:w.brand);R(()=>setTimeout(()=>{y.value&&b.open("createContent")},500));const u=j(((C=k())==null?void 0:C.active_tab)??"calendar"),x=r=>{G.get(window.location.href,{start_at:r},{preserveState:!0})},O=[{label:"Title",value:"title"},{label:"Status",value:"status",options:[{label:"Draft",value:"draft"},{label:"Published",value:"published"}]}];return(r,t)=>{const B=N("Icon"),f=N("Link");return s(),n(m,null,[l(I,{totalBrandPost:d.totalBrandPost,brand_uuid:y.value,brands:d.brands},null,8,["totalBrandPost","brand_uuid","brands"]),l(c(H),{title:r.trans("Content")},null,8,["title"]),e("main",K,[e("div",U,[e("div",W,[e("button",{class:P(["btn w-full px-12 py-2 md:w-auto",{"btn-primary":u.value==="calendar"}]),onClick:t[0]||(t[0]=o=>u.value="calendar")},[l(B,{icon:"fe:calendar",height:"1rem",width:"1rem"}),e("span",null,i(r.trans("Calender")),1)],2),e("button",{class:P(["btn w-full px-12 py-2 md:w-auto",{"btn-primary":u.value==="card"}]),onClick:t[1]||(t[1]=o=>u.value="card")},[l(B,{icon:"fe:grid",height:"1rem",width:"1rem"}),e("span",null,i(r.trans("Cards")),1)],2)]),e("div",X,[l(Y,{options:O,appends:{active_tab:"card"}})])]),e("div",ee,[u.value==="card"?(s(),n("div",te,[d.hasBrand?(s(),n("div",re,[l(A,{onAction:t[2]||(t[2]=o=>c(b).open("createContent"))}),(s(!0),n(m,null,p(d.contents.data,o=>(s(),J(L,{content:o,key:o.id},null,8,["content"]))),128))])):(s(),n("div",ae,[e("span",se,i(r.trans("You need to create a brand first")),1),l(f,{href:r.route("user.brand.create"),class:"btn btn-primary"},{default:v(()=>[E(" Create New Brand ")]),_:1},8,["href"])])),l(F,{preserveState:!0,links:d.contents.links},null,8,["links"])])):_("",!0),u.value==="calendar"?(s(),n("div",ne,[d.hasBrand?(s(),n("div",de,[e("h5",null,i(r.trans("Calendar")),1),e("div",ie,[e("button",{onClick:t[3]||(t[3]=o=>x(c(g)(d.weekStartDate).days(-7).format("Y-M-D"))),class:"btn rounded-lg border-dashed bg-slate-100 px-2 py-1 hover:bg-slate-200 dark:bg-slate-900 dark:hover:bg-gray-700"},ue),e("button",{onClick:t[4]||(t[4]=o=>x(c(g)(d.weekEndDate).days(1).format("Y-M-D"))),class:"btn rounded-lg border-dashed bg-slate-100 px-2 py-1 hover:bg-slate-200 dark:bg-slate-900 dark:hover:bg-gray-700"},be)]),e("div",fe,[(s(!0),n(m,null,p(d.items,o=>{var $;return s(),n("div",{class:"w-48 flex-1 rounded-md border border-dashed border-green-500 bg-slate-50 p-1 text-center dark:bg-slate-900",key:o.date},[e("p",he,i(o.date),1),e("button",{onClick:t[5]||(t[5]=a=>c(b).open("createContent")),class:"btn whitespace-nowrap border border-dashed border-green-500 text-green-900 hover:bg-gray-700 dark:text-white"},i(r.trans("Create New")),1),($=o.contents)!=null&&$.length?(s(),n("div",ge,[(s(!0),n(m,null,p(o.contents,a=>{var D,S;return s(),n("div",{key:a.id,class:"my-3 flex flex-col items-center justify-center rounded-lg border p-2 text-center dark:border-slate-500"},[l(f,{href:(D=a==null?void 0:a.brandpost)!=null&&D.uuid?r.route("user.publish",(S=a==null?void 0:a.brandpost)==null?void 0:S.uuid):"#"},{default:v(()=>{var h;return[e("img",{src:((h=a==null?void 0:a.media)==null?void 0:h[0])??"/assets/images/no-photo-available.png",onError:t[6]||(t[6]=V=>V.target.src="/assets/images/no-photo-available.png"),class:"max-w-full rounded border"},null,40,ve),e("span",null,i(c(T)(a.content,15)),1),e("p",null," Time: "+i(c(g)(a.scheduled_at).format("h:mm A")),1)]}),_:2},1032,["href"]),e("button",{onClick:h=>c(M)(r.route("user.brand-post-platforms.removeSchedule",a)),class:"btn btn-soft-danger mt-2 w-full"},ke,8,pe)])}),128))])):_("",!0)])}),128))])])):(s(),n("div",oe,[e("span",le,i(r.trans("You need to create a brand first")),1),l(f,{href:r.route("user.brand.create"),class:"btn btn-primary"},{default:v(()=>[E(" Create New Brand ")]),_:1},8,["href"])]))])):_("",!0)])])],64)}}});export{Ye as default};
