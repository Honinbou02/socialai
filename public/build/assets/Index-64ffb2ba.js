import{l as M,y as I,T as N,m as T,h as V,o as c,c as _,b as t,a as i,t as o,u as s,F as h,r as F,i as U,w as f,d as p,v as g,f as w,g as B,p as e,n as E,O}from"./app-eeb1ee89.js";import{_ as P}from"./AdminLayout-7bd67f05.js";import{_ as q}from"./PageHeader-8760edd0.js";import{_ as z}from"./Paginate-2104b717.js";import{h as j}from"./moment-a9aaa855.js";import{s as H}from"./sharedComposable-624eb874.js";import L from"./OverviewGrid-d8be46f6.js";import{_ as y}from"./SpinnerBtn-cd909105.js";import{d as m}from"./drawer-fe4c5e1a.js";import{_ as R}from"./NoDataFound-fb4d7f40.js";import{_ as C}from"./InputFieldError-3a343586.js";import"./dropdown-45d66330.js";import"./toastComposable-88b306f2.js";import"./actionModalComposable-f268749a.js";const Y={class:"container p-4 sm:p-6"},G={class:"space-y-6"},J={class:"table-responsive whitespace-nowrap rounded-primary"},K={class:"table"},Q={class:"text-right"},W={key:0},X={class:"text-left"},Z={class:"text-left"},tt={class:"text-left"},st={class:""},et={class:"dropdown","data-placement":"bottom-start"},ot={class:"dropdown-toggle"},at={class:"dropdown-content w-40"},lt={class:"dropdown-list"},nt={class:"dropdown-list-item"},it=["onClick"],rt={class:"dropdown-list-item"},dt=["onClick"],ct={id:"addNewCategoryDrawer",class:"drawer drawer-right"},ut={class:"drawer-header"},_t={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},pt={class:"drawer-body"},mt={class:"mb-2"},bt={class:"label mb-2"},vt={class:"mb-2"},ht={class:"label mb-2"},ft={class:"mb-2"},gt={class:"label mb-2"},wt={value:"1"},yt={value:"0"},Ct={class:"drawer-footer"},xt={class:"flex gap-2"},kt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},Dt={id:"editCategoryDrawer",class:"drawer drawer-right"},St={class:"drawer-header"},$t={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},At={class:"drawer-body"},Mt={class:"mb-2"},It={class:"label mb-2"},Nt={class:"mb-2"},Tt={class:"label mb-2"},Vt={class:"mb-2"},Ft={class:"label mb-2"},Ut={value:"1"},Bt={value:"0"},Et={class:"drawer-footer"},Ot={class:"flex gap-2"},Pt={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},qt=B({layout:P}),ss=Object.assign(qt,{__name:"Index",props:["categories","totalCategories","activeCategories","inActiveCategories","languages"],setup(u){const{deleteRow:x}=H();M(()=>{m.init()});const b=u,k=I(()=>[{value:b.totalCategories,title:e("Total"),iconClass:"bx:badge"},{value:b.activeCategories,title:e("Active"),iconClass:"bx:badge-check"},{value:b.inActiveCategories,title:e("Inactive"),iconClass:"bx:x-circle"}]),r=N({title:"",status:1,icon:null,preview:null,is_featured:0}),D=()=>{r.post(route("admin.brand-categories.store"),{onSuccess:()=>{r.reset(),m.of("#addNewCategoryDrawer").hide()}})},n=T({}),S=v=>{n.value={...v},m.of("#editCategoryDrawer").show()},$=()=>{n.value.preview instanceof File||(n.value.preview=null),O.post(route("admin.brand-categories.update",n.value.id),{_method:"PATCH",category:n.value},{onSuccess:()=>{n.value={},m.of("#editCategoryDrawer").hide()}})};return(v,l)=>{const d=V("Icon");return c(),_(h,null,[t("main",Y,[i(q),t("div",G,[i(L,{items:k.value,grid:"3"},null,8,["items"]),t("div",J,[t("table",K,[t("thead",null,[t("tr",null,[t("th",null,o(s(e)("Name")),1),t("th",null,o(s(e)("Slug")),1),t("th",null,o(s(e)("Status")),1),t("th",null,o(s(e)("Created At")),1),t("th",null,[t("p",Q,o(s(e)("Action")),1)])])]),u.categories.total?(c(),_("tbody",W,[(c(!0),_(h,null,F(u.categories.data,a=>(c(),_("tr",{key:a.id},[t("td",X,o(a.title),1),t("td",Z,o(a.slug),1),t("td",tt,[t("span",{class:E(["badge",a.status==1?"badge-success":"badge-danger"])},o(a.status==1?s(e)("Active"):s(e)("Draft")),3)]),t("td",null,o(s(j)(a.created_at).format("D-MMM-Y")),1),t("td",st,[t("div",et,[t("div",ot,[i(d,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",at,[t("ul",lt,[t("li",nt,[t("button",{onClick:A=>S(a),class:"dropdown-link"},[i(d,{icon:"fe:edit"}),t("span",null,o(s(e)("Edit")),1)],8,it)]),t("li",rt,[t("button",{as:"button",class:"dropdown-link",onClick:A=>s(x)(v.route("admin.brand-categories.destroy",a.id))},[i(d,{icon:"fe:trash"}),t("span",null,o(s(e)("Delete")),1)],8,dt)])])])])])]))),128))])):(c(),U(R,{key:1,"for-table":"true"}))]),i(z,{links:u.categories.links},null,8,["links"])])])]),t("div",ct,[t("form",{onSubmit:l[3]||(l[3]=f(a=>D(),["prevent"]))},[t("div",ut,[t("h5",null,o(s(e)("Add New Category")),1),t("button",_t,[i(d,{class:"text-xl",icon:"mdi:close"})])]),t("div",pt,[t("div",mt,[t("label",bt,o(s(e)("Title")),1),p(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>s(r).title=a),type:"text",name:"title",class:"input"},null,512),[[g,s(r).title]]),i(C,{message:s(r).errors.title},null,8,["message"])]),t("div",vt,[t("label",ht,o(s(e)("Preview")),1),t("input",{onInput:l[1]||(l[1]=a=>s(r).preview=a.target.files[0]),type:"file",name:"preview",class:"input"},null,32),i(C,{message:s(r).errors.preview},null,8,["message"])]),t("div",ft,[t("label",gt,o(s(e)("Status")),1),p(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=a=>s(r).status=a),class:"select",name:"status"},[t("option",wt,o(s(e)("Active")),1),t("option",yt,o(s(e)("Draft")),1)],512),[[w,s(r).status]])])]),t("div",Ct,[t("div",xt,[t("button",kt,[t("span",null,o(s(e)("Close")),1)]),i(y,{classes:"btn btn-primary w-full",processing:s(r).processing,"btn-text":s(e)("Create")},null,8,["processing","btn-text"])])])],32)]),t("div",Dt,[t("form",{onSubmit:l[7]||(l[7]=f(a=>$(),["prevent"]))},[t("div",St,[t("h5",null,o(s(e)("Edit Category")),1),t("button",$t,[i(d,{class:"text-xl",icon:"mdi:close"})])]),t("div",At,[t("div",Mt,[t("label",It,o(s(e)("Title")),1),p(t("input",{"onUpdate:modelValue":l[4]||(l[4]=a=>n.value.title=a),type:"text",class:"input"},null,512),[[g,n.value.title]])]),t("div",Nt,[t("label",Tt,o(s(e)("Preview")),1),t("input",{onInput:l[5]||(l[5]=a=>n.value.preview=a.target.files[0]),type:"file",name:"preview",class:"input"},null,32)]),t("div",Vt,[t("label",Ft,o(s(e)("Status")),1),p(t("select",{required:"","onUpdate:modelValue":l[6]||(l[6]=a=>n.value.status=a),class:"select",name:"status"},[t("option",Ut,o(s(e)("Active")),1),t("option",Bt,o(s(e)("Draft")),1)],512),[[w,n.value.status]])])]),t("div",Et,[t("div",Ot,[t("button",Pt,[t("span",null,o(s(e)("Close")),1)]),i(y,{classes:"btn btn-primary w-full",processing:n.value.processing,"btn-text":s(e)("Update")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{ss as default};
