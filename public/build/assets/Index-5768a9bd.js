import{l as E,y as F,T as I,m as x,h as k,o as r,c as u,b as t,a as i,t as o,u as s,w as C,d as p,f as b,v as f,F as J,r as N,i as U,g as P,p as e,j as S,k as T,n as B,O as L}from"./app-eeb1ee89.js";import{_ as O}from"./AdminLayout-7bd67f05.js";import{_ as q}from"./PageHeader-8760edd0.js";import{_ as z}from"./Paginate-2104b717.js";import{h as R}from"./moment-a9aaa855.js";import{s as Y}from"./sharedComposable-624eb874.js";import G from"./OverviewGrid-d8be46f6.js";import{_ as H}from"./SpinnerBtn-cd909105.js";import{d as w}from"./drawer-fe4c5e1a.js";import{t as K}from"./toastComposable-88b306f2.js";import{_ as Q}from"./NoDataFound-fb4d7f40.js";import"./dropdown-45d66330.js";import"./actionModalComposable-f268749a.js";const W={class:"container p-4 sm:p-6"},X={class:"space-y-6"},Z={class:"flex items-center justify-end gap-x-2"},j={class:"dropdown","data-placement":"bottom-end"},tt={class:"dropdown-toggle"},st={type:"button",class:"btn bg-white font-medium shadow-sm dark:bg-slate-800"},et={class:"dropdown-content w-72 !overflow-visible"},ot={class:"dropdown-list space-y-4 p-4"},at={class:"dropdown-list-item"},nt={class:"my-1 text-sm font-medium"},it={class:"mb-2"},lt={value:"1"},dt={value:"2"},ct={value:"0"},rt={class:"dropdown-list-item"},_t={class:"mb-2"},ut={value:"email"},pt={value:"name"},mt={value:"title"},ht={value:"status"},vt={value:"service"},bt={value:"category"},ft={class:"dropdown-list-item"},wt={type:"submit",class:"btn btn-primary w-full"},yt={class:"table-responsive whitespace-nowrap rounded-primary"},gt={class:"table"},xt={class:""},kt={class:""},Ct={class:""},Jt={class:""},St={class:""},Dt={class:""},$t={class:"text-right"},Vt={key:0},At={class:"text-left"},Mt={class:"text-left"},Et=["src"],Ft={class:"text-left"},It={class:"text-left"},Nt={class:"text-left"},Ut={class:"flex justify-end"},Pt={class:"dropdown","data-placement":"bottom-end"},Tt={class:"dropdown-toggle"},Bt={class:"dropdown-content w-40"},Lt={class:"dropdown-list"},Ot={class:"dropdown-list-item"},qt=["onClick"],zt={class:"dropdown-list-item"},Rt={class:"dropdown-list-item"},Yt=["onClick"],Gt={id:"editJobDrawer",class:"drawer drawer-right"},Ht={class:"drawer-header"},Kt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Qt={class:"drawer-body"},Wt={class:"mb-2"},Xt={class:"label mb-2"},Zt={class:"mb-2"},jt={class:"label mb-2"},ts={class:"mb-2"},ss={class:"label mb-2"},es={value:"1"},os={value:"2"},as={value:"0"},ns={class:"drawer-footer"},is={class:"flex justify-end gap-2"},ls={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},ds=P({layout:O}),xs=Object.assign(ds,{__name:"Index",props:["jobs","totalJobs","activeJobs","pendingJobs","inActiveJobs","languages","buttons","allServices","request","type"],setup(m){const{deleteRow:D}=Y();E(()=>{w.init()});const _=m,$=F(()=>[{value:_.totalJobs,title:e("Total Jobs"),iconClass:"bx:badge-check"},{value:_.pendingJobs,title:e("Pending Jobs"),iconClass:"bx:badge"},{value:_.activeJobs,title:e("Active Jobs"),iconClass:"bx:check"},{value:_.inActiveJobs,title:e("Inactive Jobs"),iconClass:"bx:x-circle"}]),l=I({search:_.request.search,type:_.type}),d=x({}),v=x(!1),V=h=>{d.value={...h},w.of("#editJobDrawer").show()},A=()=>{v.value=!0,L.patch(route("admin.job.update",d.value.id),d.value,{onSuccess:()=>{d.value={},K.success(e("Job has been updated successfully")),w.of("#editJobDrawer").hide(),v.value=!1}})};return(h,n)=>{const c=k("Icon"),y=k("Link");return r(),u(J,null,[t("main",W,[i(q,{title:"Job Categories",buttons:m.buttons},null,8,["buttons"]),t("div",X,[i(G,{items:$.value,grid:"4"},null,8,["items"]),t("div",Z,[t("div",j,[t("div",tt,[t("button",st,[i(c,{icon:"fe:filter"}),t("span",null,o(s(e)("Filter")),1),i(c,{icon:"bx:chevron-down"})])]),t("div",et,[t("form",{onSubmit:n[4]||(n[4]=C(a=>s(l).get("/admin/job"),["prevent"]))},[t("ul",ot,[t("li",at,[t("h2",nt,o(s(e)("Search")),1),t("div",it,[s(l).type&&s(l).type==="status"?p((r(),u("select",{key:0,class:"select",name:"type","onUpdate:modelValue":n[0]||(n[0]=a=>s(l).search=a)},[t("option",lt,o(s(e)("Active")),1),t("option",dt,o(s(e)("Pending")),1),t("option",ct,o(s(e)("Inactive")),1)],512)),[[b,s(l).search]]):p((r(),u("input",{key:1,type:"text",name:"search","onUpdate:modelValue":n[1]||(n[1]=a=>s(l).search=a),class:"input",placeholder:"Search......"},null,512)),[[f,s(l).search]])])]),t("li",rt,[t("div",_t,[p(t("select",{class:"select",name:"type",onChange:n[2]||(n[2]=a=>s(l).search=""),"onUpdate:modelValue":n[3]||(n[3]=a=>s(l).type=a)},[t("option",ut,o(s(e)("Company Email")),1),t("option",pt,o(s(e)("Company Name")),1),t("option",mt,o(s(e)("Title")),1),t("option",ht,o(s(e)("Status")),1),t("option",vt,o(s(e)("Service")),1),t("option",bt,o(s(e)("Category")),1)],544),[[b,s(l).type]])])]),t("li",ft,[t("button",wt,o(s(e)("Filter")),1)])])],32)])])]),t("div",yt,[t("table",gt,[t("thead",null,[t("tr",null,[t("th",xt,o(s(e)("Name")),1),t("th",kt,o(s(e)("Company Name")),1),t("th",Ct,o(s(e)("Service")),1),t("th",Jt,o(s(e)("Category")),1),t("th",St,o(s(e)("Created Date")),1),t("th",Dt,o(s(e)("Status")),1),t("th",null,[t("div",$t,o(s(e)("Action")),1)])])]),m.jobs.total>0?(r(),u("tbody",Vt,[(r(!0),u(J,null,N(m.jobs.data,a=>{var g;return r(),u("tr",{key:a.id},[t("td",At,o(a.title),1),t("td",Mt,[t("img",{class:"mr-2 inline w-10 rounded-full",src:a.user.avatar==null?`https://ui-avatars.com/api/?name=${a.user.name}`:`${a.user.avatar}`,alt:"avatar"},null,8,Et),i(y,{href:h.route("admin.users.show",a.user_id)},{default:S(()=>[T(o(a.user.name),1)]),_:2},1032,["href"])]),t("td",Ft,o(a.service.title),1),t("td",It,o((g=a.categories[0])==null?void 0:g.title),1),t("td",null,o(s(R)(a.created_at).format("D-MMM-Y")),1),t("td",Nt,[t("span",{class:B(["badge",a.status==1?"badge-success":a.status==2?"badge-warning":"badge-danger"])},o(a.status==1?s(e)("Active"):a.status==2?s(e)("Pending"):s(e)("Inactive")),3)]),t("td",null,[t("div",Ut,[t("div",Pt,[t("div",Tt,[i(c,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",Bt,[t("ul",Lt,[t("li",Ot,[t("button",{onClick:M=>V(a),class:"dropdown-link"},[i(c,{icon:"fe:edit"}),t("span",null,o(s(e)("Edit")),1)],8,qt)]),t("li",zt,[i(y,{href:h.route("admin.job.show",a.id),class:"dropdown-link"},{default:S(()=>[i(c,{icon:"fe:eye"}),t("span",null,o(s(e)("View")),1)]),_:2},1032,["href"])]),t("li",Rt,[t("button",{as:"button",class:"dropdown-link",onClick:M=>s(D)(h.route("admin.job.destroy",a.id))},[i(c,{icon:"fe:trash"}),t("span",null,o(s(e)("Delete")),1)],8,Yt)])])])])])])])}),128))])):(r(),U(Q,{key:1,"for-table":"true"}))])])])]),i(z,{links:m.jobs.links},null,8,["links"]),t("div",Gt,[t("form",{onSubmit:n[8]||(n[8]=C(a=>A(),["prevent"]))},[t("div",Ht,[t("h5",null,o(s(e)("Edit Job")),1),t("button",Kt,[i(c,{class:"text-xl",icon:"mdi:close"})])]),t("div",Qt,[t("div",Wt,[t("label",Xt,o(s(e)("Job Live Days")),1),p(t("input",{"onUpdate:modelValue":n[5]||(n[5]=a=>d.value.live_expire_at=a),type:"date",name:"live_expire_at",class:"input"},null,512),[[f,d.value.live_expire_at]])]),t("div",Zt,[t("label",jt,o(s(e)("Featured Expire Date")),1),p(t("input",{"onUpdate:modelValue":n[6]||(n[6]=a=>d.value.featured_expire_at=a),type:"date",name:"featured_expire_at",class:"input"},null,512),[[f,d.value.featured_expire_at]])]),t("div",ts,[t("label",ss,o(s(e)("Status")),1),p(t("select",{"onUpdate:modelValue":n[7]||(n[7]=a=>d.value.status=a),class:"select",name:"status"},[t("option",es,o(s(e)("Active")),1),t("option",os,o(s(e)("Pending")),1),t("option",as,o(s(e)("Deactive")),1)],512),[[b,d.value.status]])])]),t("div",ns,[t("div",is,[t("button",ls,[t("span",null,o(s(e)("Close")),1)]),i(H,{classes:"btn btn-primary",processing:v.value,"btn-text":s(e)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{xs as default};
