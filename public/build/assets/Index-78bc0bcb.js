import{l as $,T as y,h as U,o as i,c as r,b as e,a as u,t as n,F as _,r as b,i as j,w as q,d as m,v as h,u as o,f as w,O as A}from"./app-eeb1ee89.js";import{_ as E}from"./AdminLayout-7bd67f05.js";import{t as k}from"./toastComposable-88b306f2.js";import{_ as x}from"./SpinnerBtn-cd909105.js";import{_ as N}from"./PageHeader-8760edd0.js";import{_ as B}from"./Paginate-2104b717.js";import{s as L}from"./sharedComposable-624eb874.js";import{d as v}from"./drawer-fe4c5e1a.js";import{_ as M}from"./NoDataFound-fb4d7f40.js";import"./dropdown-45d66330.js";import"./actionModalComposable-f268749a.js";const I={class:"container flex-grow p-4 sm:p-6"},O={class:"space-y-6"},Q={class:"table-responsive whitespace-nowrap rounded-primary"},T={class:"table"},z={class:"text-right"},R={class:"text-right"},G={class:"flex justify-end"},H={key:0},J={class:"text-left"},K={class:"text-left"},P={class:"text-left"},W={class:"text-right"},X={class:"flex justify-end"},Y={class:"dropdown","data-placement":"bottom-start"},Z={class:"dropdown-toggle"},ee={class:"dropdown-content w-40"},te={class:"dropdown-list"},se={class:"dropdown-list-item"},ne=["onClick"],ae={class:"dropdown-list-item"},oe=["onClick"],le={class:"card-footer py-4"},ie={id:"addNewFaqDrawer",class:"drawer drawer-right"},re={class:"drawer-header"},de={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ue={class:"drawer-body"},ce={class:"mb-2"},me={class:"mb-2"},pe={class:"mb-2"},_e=["value"],ge={class:"mb-2"},be=["value"],he={class:"drawer-footer"},we={class:"flex justify-end gap-2"},ve={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},fe={id:"editFaqDrawer",class:"drawer drawer-right"},ye={class:"drawer-header"},qe={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ke={class:"drawer-body"},xe={class:"mb-2"},Fe={class:"mb-2"},Ce={class:"mb-2"},Se=["value","selected"],Ve={class:"mb-2"},De=["value"],$e={class:"drawer-footer"},Ue={class:"flex justify-end gap-2"},je={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Ae={layout:E},Ge=Object.assign(Ae,{__name:"Index",props:["buttons","faqs","languages","categories"],setup(c){$(()=>{v.init()});const{textExcerpt:f,deleteRow:F}=L(),d=y({question:null,answer:null,categories:null,language:null}),l=y({question:null,answer:null,categories:null,language:null,id:null});function C(s){var a;l.question=s.title,l.answer=s.excerpt.value,l.categories=((a=s.faq_categories[0])==null?void 0:a.id)||null,l.language=s.lang,l.id=s.id,v.of("#editFaqDrawer").show()}const S=()=>{d.post(route("admin.faq.store"),{onSuccess:()=>{d.reset(),k.success(trans("Faq has been added successfully")),v.of("#addNewFaqDrawer").hide()}})},V=()=>{A.patch(route("admin.faq.update",l.id),l,{onSuccess:()=>{l.value={},k.success(trans("Faq has been updated successfully")),v.of("#editFaqDrawer").hide()}})};return(s,a)=>{const g=U("Icon");return i(),r(_,null,[e("main",I,[u(N,{title:s.trans("Frequently asked questions"),buttons:c.buttons},null,8,["title","buttons"]),e("div",O,[e("div",Q,[e("table",T,[e("thead",null,[e("tr",null,[e("th",null,n(s.trans("Question")),1),e("th",null,n(s.trans("Answer")),1),e("th",z,n(s.trans("Category")),1),e("th",R,n(s.trans("Language")),1),e("th",G,n(s.trans("Action")),1)])]),c.faqs.total?(i(),r("tbody",H,[(i(!0),r(_,null,b(c.faqs.data,t=>{var p;return i(),r("tr",{key:t.id},[e("td",J,n(o(f)(t.title,20)),1),e("td",K,n(o(f)(t.excerpt.value,70)),1),e("td",P,n(o(f)(((p=t.faq_categories[0])==null?void 0:p.title)||"",70)),1),e("td",W,n(t.lang),1),e("td",X,[e("div",Y,[e("div",Z,[u(g,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),e("div",ee,[e("ul",te,[e("li",se,[e("button",{type:"button",onClick:D=>C(t),class:"dropdown-link"},[u(g,{icon:"fe:edit"}),e("span",null,n(s.trans("Edit")),1)],8,ne)]),e("li",ae,[e("button",{class:"dropdown-link",onClick:D=>o(F)("/admin/faq/"+t.id)},[u(g,{icon:"fe:trash"}),e("span",null,n(s.trans("Delete")),1)],8,oe)])])])])])])}),128))])):(i(),j(M,{key:1,"for-table":"true"}))])]),e("div",le,[u(B,{links:c.faqs.links},null,8,["links"])])])]),e("div",ie,[e("form",{onSubmit:a[4]||(a[4]=q(t=>S(),["prevent"]))},[e("div",re,[e("h5",null,n(s.trans("Add New Faq")),1),e("button",de,[u(g,{class:"text-xl",icon:"mdi:close"})])]),e("div",ue,[e("div",ce,[e("label",null,n(s.trans("Question")),1),m(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o(d).question=t),maxlength:"150",class:"input",required:""},null,512),[[h,o(d).question]])]),e("div",me,[e("label",null,n(s.trans("Answer")),1),m(e("textarea",{class:"textarea h-100",maxlength:"500","onUpdate:modelValue":a[1]||(a[1]=t=>o(d).answer=t),required:""},null,512),[[h,o(d).answer]])]),e("div",pe,[e("label",null,n(s.trans("Select Category")),1),m(e("select",{class:"select",name:"category","onUpdate:modelValue":a[2]||(a[2]=t=>o(d).categories=t),required:""},[(i(!0),r(_,null,b(c.categories,t=>(i(),r("option",{key:t.id,value:t.id},n(t.title),9,_e))),128))],512),[[w,o(d).categories]])]),e("div",ge,[e("label",null,n(s.trans("Select Language")),1),m(e("select",{class:"select",name:"language",required:"","onUpdate:modelValue":a[3]||(a[3]=t=>o(d).language=t)},[(i(!0),r(_,null,b(c.languages,(t,p)=>(i(),r("option",{key:t.key,value:p},n(t),9,be))),128))],512),[[w,o(d).language]])])]),e("div",he,[e("div",we,[e("button",ve,[e("span",null,n(s.trans("Close")),1)]),u(x,{classes:"btn btn-primary",processing:o(d).processing,"btn-text":s.trans("Create")},null,8,["processing","btn-text"])])])],32)]),e("div",fe,[e("form",{onSubmit:a[9]||(a[9]=q(t=>V(),["prevent"]))},[e("div",ye,[e("h5",null,n(s.trans("Edit Faq")),1),e("button",qe,[u(g,{class:"text-xl",icon:"mdi:close"})])]),e("div",ke,[e("div",xe,[e("label",null,n(s.trans("Question")),1),m(e("input",{type:"text",name:"question","onUpdate:modelValue":a[5]||(a[5]=t=>o(l).question=t),maxlength:"150",class:"input",id:"question",required:""},null,512),[[h,o(l).question]])]),e("div",Fe,[e("label",null,n(s.trans("Answer")),1),m(e("textarea",{class:"textarea h-100","onUpdate:modelValue":a[6]||(a[6]=t=>o(l).answer=t),maxlength:"500",name:"answer",required:"",id:"answer"},null,512),[[h,o(l).answer]])]),e("div",Ce,[e("label",null,n(s.trans("Select Categories")),1),m(e("select",{class:"select",name:"position","onUpdate:modelValue":a[7]||(a[7]=t=>o(l).categories=t),id:"position",required:""},[(i(!0),r(_,null,b(c.categories,t=>(i(),r("option",{key:t.id,value:t.id,selected:t.id==o(l).categories},n(t.title),9,Se))),128))],512),[[w,o(l).categories]])]),e("div",Ve,[e("label",null,n(s.trans("Select Language")),1),m(e("select",{class:"select",name:"language",required:"","onUpdate:modelValue":a[8]||(a[8]=t=>o(l).language=t)},[(i(!0),r(_,null,b(c.languages,(t,p)=>(i(),r("option",{key:t.key,value:p},n(t),9,De))),128))],512),[[w,o(l).language]])])]),e("div",$e,[e("div",Ue,[e("button",je,[e("span",null,n(s.trans("Close")),1)]),u(x,{classes:"btn btn-primary",processing:o(l).processing,"btn-text":s.trans("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{Ge as default};
