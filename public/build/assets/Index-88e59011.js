import{T as f,o as i,c as r,a as d,b as e,d as x,H as k,t as a,u as s,k as v,w as b,e as D,g as N,p as t}from"./app-eeb1ee89.js";import{_ as S}from"./AdminLayout-7bd67f05.js";import{_ as U}from"./PageHeader-8760edd0.js";import{_ as y}from"./SpinnerBtn-b72a47b7.js";import{m as V}from"./actionModalComposable-f268749a.js";import"./dropdown-45d66330.js";const j={class:"flex-grow p-4 sm:p-6"},C={class:"space-y-6"},K={class:"alert alert-info",role:"alert"},B=e("i",{width:"1rem",height:"1rem","data-feather":"alert-circle"},null,-1),T={class:"card"},$={class:"card-body"},z={class:"flex justify-between"},A={class:"card-title"},E={key:0,class:"flex items-center justify-between p-4 my-3 border rounded-lg"},I={class:"mb-2"},Y={for:""},F=["value"],H={class:"mb-2"},M={key:0,class:"alert alert-info",role:"alert"},O=e("i",{width:"1rem",height:"1rem","data-feather":"alert-circle"},null,-1),P=N({layout:S}),R=Object.assign(P,{__name:"Index",props:["version","purchaseKey","updateData"],setup(o){var m;const c=o,u=f({purchase_key:c.purchaseKey}),p=f({version:(m=c.updateData)==null?void 0:m.version}),g=()=>{u.post(route("admin.update.store"),{onError:n=>{console.log(n)}})},w=()=>{var l;if(p.processing)return;let n=(l=c.updateData)==null?void 0:l.version;V.init(route("admin.update.update",n),{method:"put",options:{confirm_text:t("Are you sure you want to update to version v."+n+"?"),message:t("Warning: You will not be able to revert this back once updated!"),accept_btn_text:t("Yes, Update Now"),reject_btn_text:t("No, Skip This Update")}})};return(n,l)=>{var h,_;return i(),r("main",j,[d(U),e("div",C,[x(e("div",K,[B,e("p",null,[e("b",null,a(s(t)("Note"))+":",1),v(" "+a((h=o.updateData)==null?void 0:h.message),1)])],512),[[k,(_=o.updateData)==null?void 0:_.message]]),e("div",T,[e("div",$,[e("div",z,[e("h4",A,a(s(t)("Site Update")),1),e("p",null,a(s(t)("Current Version"))+" "+a(o.version),1)]),o.updateData?(i(),r("div",E,[e("p",null,a(s(t)("Update Available")),1),e("h6",null,a(o.updateData.version),1),e("div",null,[e("form",{onSubmit:b(w,["prevent"])},[d(y,{processing:s(p).processing,"btn-text":s(t)("Update Now")},null,8,["processing","btn-text"])],32)])])):(i(),r("form",{key:1,onSubmit:b(g,["prevent"])},[e("div",I,[e("label",Y,a(s(t)("Purchase Key")),1),e("input",{type:"text",class:"input",value:o.purchaseKey,disabled:""},null,8,F)]),e("div",H,[d(y,{processing:s(u).processing,"btn-text":s(t)("Check New Update")},null,8,["processing","btn-text"])])],32))])]),o.updateData?D("",!0):(i(),r("div",M,[O,e("p",null,[e("b",null,a(s(t)("Note"))+":",1),v(" "+a(s(t)("If you have customized the script from codebase do not use this option. you will lose your customization.")),1)])]))])])}}});export{R as default};
