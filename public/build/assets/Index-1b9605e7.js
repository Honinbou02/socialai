import{l as S,y as N,T as $,m as V,h as q,o as _,c as p,b as t,a as d,t as o,u as e,F as f,r as M,i as T,w as g,d as r,v as w,f as b,g as U,p as s,k as j,n as y,O as B}from"./app-eeb1ee89.js";import{_ as E}from"./AdminLayout-7bd67f05.js";import{_ as O}from"./PageHeader-8760edd0.js";import{_ as P}from"./Paginate-2104b717.js";import{h as z}from"./moment-a9aaa855.js";import{s as H}from"./sharedComposable-624eb874.js";import L from"./OverviewGrid-d8be46f6.js";import{_ as C}from"./SpinnerBtn-cd909105.js";import{d as m}from"./drawer-fe4c5e1a.js";import{_ as R}from"./NoDataFound-fb4d7f40.js";import"./dropdown-45d66330.js";import"./toastComposable-88b306f2.js";import"./actionModalComposable-f268749a.js";const Y={class:"container p-4 sm:p-6"},G={class:"space-y-6"},J={class:"table-responsive whitespace-nowrap rounded-primary"},K={class:"table"},Q={class:""},W={class:""},X={class:""},Z={class:""},tt={class:""},et={class:"flex justify-end"},st={key:0},ot={class:"text-left"},at=["src"],lt={class:"text-left"},it={class:"text-left"},nt={class:"text-left"},dt={class:"flex justify-end"},rt={class:"dropdown","data-placement":"bottom-start"},ct={class:"dropdown-toggle"},ut={class:"dropdown-content w-40"},_t={class:"dropdown-list"},pt={class:"dropdown-list-item"},bt=["onClick"],mt={class:"dropdown-list-item"},vt=["onClick"],ht={id:"addNewCategoryDrawer",class:"drawer drawer-right"},ft={class:"drawer-header"},gt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},wt={class:"drawer-body"},yt={class:"mb-2"},Ct={class:"label mb-2"},xt={class:"mb-2"},kt={class:"label mb-2"},Ft={class:"mb-2"},It={class:"label mb-2"},At={class:"mb-2"},Dt={class:"label mb-2"},St={value:"1"},Nt={value:"0"},$t={class:"mb-2"},Vt={class:"label mb-2"},qt={value:"1"},Mt={value:"0"},Tt={class:"drawer-footer"},Ut={class:"flex justify-end gap-2"},jt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Bt={id:"editCategoryDrawer",class:"drawer drawer-right"},Et={class:"drawer-header"},Ot={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Pt={class:"drawer-body"},zt={class:"mb-2"},Ht={class:"label mb-2"},Lt={class:"mb-2"},Rt={class:"label mb-2"},Yt={class:"mb-2"},Gt={class:"label mb-2"},Jt={class:"mb-2"},Kt={class:"label mb-2"},Qt={value:"1"},Wt={value:"0"},Xt={class:"mb-2"},Zt={class:"label mb-2"},te={value:"1"},ee={value:"0"},se={class:"drawer-footer"},oe={class:"flex justify-end gap-2"},ae={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},le=U({layout:E}),ge=Object.assign(le,{__name:"Index",props:["categories","totalCategories","activeCategories","inActiveCategories","languages","buttons","segments"],setup(c){const{deleteRow:x}=H();S(()=>{m.init()});const v=c,k=N(()=>[{value:v.totalCategories,title:s("Total"),iconClass:"bx:badge"},{value:v.activeCategories,title:s("Active"),iconClass:"bx:badge-check"},{value:v.inActiveCategories,title:s("Inactive"),iconClass:"bx:x-circle"}]),n=$({title:"",status:1,icon:null,preview:null,is_featured:0}),i=V({}),F=()=>{n.post(route("admin.service-categories.store"),{onSuccess:()=>{n.reset(),m.of("#addNewCategoryDrawer").hide()}})},I=h=>{i.value={...h},m.of("#editCategoryDrawer").show()},A=()=>{i.value.preview instanceof File||(i.value.preview=null),i.value.icon instanceof File||(i.value.icon=null),B.post(route("admin.service-categories.update",i.value.id),{_method:"PATCH",category:i.value},{onSuccess:()=>{i.value={},m.of("#editCategoryDrawer").hide()}})};return(h,l)=>{const u=q("Icon");return _(),p(f,null,[t("main",Y,[d(O,{title:"Service Categories",buttons:c.buttons},null,8,["buttons"]),t("div",G,[d(L,{items:k.value,grid:"3"},null,8,["items"]),t("div",J,[t("table",K,[t("thead",null,[t("tr",null,[t("th",Q,o(e(s)("Name")),1),t("th",W,o(e(s)("Slug")),1),t("th",X,o(e(s)("Status")),1),t("th",Z,o(e(s)("Featured")),1),t("th",tt,o(e(s)("Created At")),1),t("th",et,o(e(s)("Action")),1)])]),c.categories.total>0?(_(),p("tbody",st,[(_(!0),p(f,null,M(c.categories.data,a=>(_(),p("tr",{key:a.id},[t("td",ot,[t("img",{class:"mr-1 inline w-12 rounded-full",src:a.preview,alt:"preview"},null,8,at),j(" "+o(a.title),1)]),t("td",lt,o(a.slug),1),t("td",it,[t("span",{class:y(["badge",a.status==1?"badge-primary":"badge-danger"])},o(a.status==1?e(s)("Active"):e(s)("Inactive")),3)]),t("td",nt,[t("span",{class:y(["badge",a.is_featured==1?"badge-success":"badge-danger"])},o(a.is_featured==1?e(s)("Featured"):e(s)("Not Featured")),3)]),t("td",null,o(e(z)(a.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",dt,[t("div",rt,[t("div",ct,[d(u,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",ut,[t("ul",_t,[t("li",pt,[t("button",{onClick:D=>I(a),class:"dropdown-link"},[d(u,{icon:"fe:edit"}),t("span",null,o(e(s)("Edit")),1)],8,bt)]),t("li",mt,[t("button",{as:"button",class:"dropdown-link",onClick:D=>e(x)(h.route("admin.service-categories.destroy",a.id))},[d(u,{icon:"fe:trash"}),t("span",null,o(e(s)("Delete")),1)],8,vt)])])])])])])]))),128))])):(_(),T(R,{key:1,"for-table":"true"}))])]),d(P,{links:c.categories.links},null,8,["links"])])]),t("div",ht,[t("form",{onSubmit:l[5]||(l[5]=g(a=>F(),["prevent"]))},[t("div",ft,[t("h5",null,o(e(s)("Add New Category")),1),t("button",gt,[d(u,{class:"text-xl",icon:"mdi:close"})])]),t("div",wt,[t("div",yt,[t("label",Ct,o(e(s)("Title")),1),r(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>e(n).title=a),type:"text",class:"input",required:""},null,512),[[w,e(n).title]])]),t("div",xt,[t("label",kt,o(e(s)("Icon")),1),t("input",{onInput:l[1]||(l[1]=a=>e(n).icon=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",Ft,[t("label",It,o(e(s)("Preview")),1),t("input",{onInput:l[2]||(l[2]=a=>e(n).preview=a.target.files[0]),type:"file",class:"input",required:""},null,32)]),t("div",At,[t("label",Dt,o(e(s)("Is Active?")),1),r(t("select",{required:"","onUpdate:modelValue":l[3]||(l[3]=a=>e(n).status=a),class:"select"},[t("option",St,o(e(s)("Active")),1),t("option",Nt,o(e(s)("Draft")),1)],512),[[b,e(n).status]])]),t("div",$t,[t("label",Vt,o(e(s)("Is Featured?")),1),r(t("select",{required:"","onUpdate:modelValue":l[4]||(l[4]=a=>e(n).is_featured=a),class:"select"},[t("option",qt,o(e(s)("Featured")),1),t("option",Mt,o(e(s)("Not Featured")),1)],512),[[b,e(n).is_featured]])])]),t("div",Tt,[t("div",Ut,[t("button",jt,[t("span",null,o(e(s)("Close")),1)]),d(C,{classes:"btn btn-primary",processing:e(n).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),t("div",Bt,[t("form",{onSubmit:l[11]||(l[11]=g(a=>A(),["prevent"]))},[t("div",Et,[t("h5",null,o(e(s)("Edit Category")),1),t("button",Ot,[d(u,{class:"text-xl",icon:"mdi:close"})])]),t("div",Pt,[t("div",zt,[t("label",Ht,o(e(s)("Title")),1),r(t("input",{"onUpdate:modelValue":l[6]||(l[6]=a=>i.value.title=a),type:"text",class:"input",required:""},null,512),[[w,i.value.title]])]),t("div",Lt,[t("label",Rt,o(e(s)("Icon")),1),t("input",{onInput:l[7]||(l[7]=a=>i.value.icon=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",Yt,[t("label",Gt,o(e(s)("Preview")),1),t("input",{onInput:l[8]||(l[8]=a=>i.value.preview=a.target.files[0]),type:"file",class:"input"},null,32)]),t("div",Jt,[t("label",Kt,o(e(s)("Is Active?")),1),r(t("select",{required:"","onUpdate:modelValue":l[9]||(l[9]=a=>i.value.status=a),class:"select"},[t("option",Qt,o(e(s)("Active")),1),t("option",Wt,o(e(s)("Draft")),1)],512),[[b,i.value.status]])]),t("div",Xt,[t("label",Zt,o(e(s)("Is Featured?")),1),r(t("select",{required:"","onUpdate:modelValue":l[10]||(l[10]=a=>i.value.is_featured=a),class:"select"},[t("option",te,o(e(s)("Featured")),1),t("option",ee,o(e(s)("Not Featured")),1)],512),[[b,i.value.is_featured]])])]),t("div",se,[t("div",oe,[t("button",ae,[t("span",null,o(e(s)("Close")),1)]),d(C,{classes:"btn btn-primary",processing:i.value.processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{ge as default};
