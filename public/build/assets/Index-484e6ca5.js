import{l as V,T as q,m as N,h as $,o as _,c as h,b as e,a as d,t as s,F as y,r as E,w as S,d as u,v as c,u as l,f as k,g as I,O}from"./app-eeb1ee89.js";import{_ as A}from"./Paginate-2104b717.js";import{_ as C}from"./SpinnerBtn-cd909105.js";import{s as F}from"./sharedComposable-624eb874.js";import{_ as M}from"./AdminLayout-7bd67f05.js";import{_ as j}from"./PageHeader-8760edd0.js";import{d as p}from"./drawer-fe4c5e1a.js";import{t as T}from"./toastComposable-88b306f2.js";import"./actionModalComposable-f268749a.js";import"./dropdown-45d66330.js";const B={class:"container flex-grow p-4 sm:p-6"},G={class:"space-y-6"},z={class:"table"},L={class:"text-right"},H={class:"!text-right"},J={class:"flex"},K=["src"],Q={class:"text-left"},W={class:"text-left"},X={class:"text-right"},Y={class:"dropdown","data-placement":"bottom-start"},Z={class:"dropdown-toggle"},ee={class:"dropdown-content w-40"},te={class:"dropdown-list"},se={class:"dropdown-list-item"},ae=["onClick"],ne={class:"dropdown-list-item"},oe=["onClick"],le={id:"addNewTestimonialDrawer",class:"drawer drawer-right"},ie={class:"drawer-header"},re={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},de={class:"drawer-body"},ue={class:"mb-2"},me={class:"mb-2"},ce={class:"mb-2"},pe={class:"mb-2"},ve={value:"5"},_e={value:"4"},he={value:"3"},we={value:"2"},be={value:"1"},ge={class:"mb-2"},fe={class:"drawer-footer"},ye={class:"flex justify-end gap-2"},Se={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},ke={id:"editTestimonialDrawer",class:"drawer drawer-right"},Ce={class:"drawer-header"},Te={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},xe={class:"drawer-body"},Pe={class:"mb-2"},Re={class:"mb-2"},Ue={class:"mb-2"},De={class:"mb-2"},Ve={value:"5"},qe={value:"4"},Ne={value:"3"},$e={value:"2"},Ee={value:"1"},Ie={class:"mb-2"},Oe=["value"],Ae={class:"drawer-footer"},Fe={class:"flex justify-end gap-2"},Me={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},je=I({layout:M}),Ye=Object.assign(je,{__name:"Index",props:["posts","buttons","segments"],setup(i){const{textExcerpt:v,deleteRow:x}=F();V(()=>{p.init()});const r=q({reviewer_name:"",reviewer_position:"",reviewer_avatar:"",star:0,comment:""}),o=N({});function P(t){o.value={...t},p.of("#editTestimonialDrawer").show()}const R=()=>{r.post(route("admin.testimonials.store"),{onSuccess:()=>{r.reset(),T.success(trans("Testimonial has been added successfully")),p.of("#addNewTestimonialDrawer").hide()}})},U=()=>{o.value.preview.value instanceof File||(o.value.preview.value=null),O.post(route("admin.testimonials.update",o.value.id),{_method:"patch",testimonial:o.value},{onSuccess:()=>{T.success("Testimonial Updated successfully"),p.of("#editTestimonialDrawer").hide()}})};return(t,n)=>{var w,b;const m=$("Icon");return _(),h(y,null,[e("main",B,[d(j,{title:"Testimonial",buttons:i.buttons},null,8,["buttons"]),e("div",G,[e("table",z,[e("thead",null,[e("tr",null,[e("th",null,s(t.trans("Reviewer Name")),1),e("th",null,s(t.trans("Reviewer Position")),1),e("th",null,s(t.trans("Comment")),1),e("th",L,s(t.trans("Ratings")),1),e("th",H,s(t.trans("Action")),1)])]),e("tbody",null,[(_(!0),h(y,null,E(i.posts.data,a=>{var g,f;return _(),h("tr",{key:a.id},[e("td",J,[e("img",{src:(g=a.preview)==null?void 0:g.value,class:"avatar rounded-square mr-3"},null,8,K),e("span",null,s(l(v)(a.title,30)),1)]),e("td",Q,s(l(v)(a.slug,30)),1),e("td",W,s(l(v)(((f=a.excerpt)==null?void 0:f.value)??"",50)),1),e("td",X,s(a.lang)+" "+s(t.trans("Star")),1),e("td",null,[e("div",Y,[e("div",Z,[d(m,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),e("div",ee,[e("ul",te,[e("li",se,[e("button",{onClick:D=>P(a),class:"dropdown-link"},[d(m,{icon:"fe:edit"}),e("span",null,s(t.trans("Edit")),1)],8,ae)]),e("li",ne,[e("button",{class:"dropdown-link",onClick:D=>l(x)("/admin/testimonials/"+a.id)},[d(m,{icon:"fe:trash"}),e("span",null,s(t.trans("Delete")),1)],8,oe)])])])])])])}),128))])]),d(A,{links:i.posts.links,currentPage:i.posts.current_page,from:i.posts.from,lastPage:i.posts.last_page,lastPageUrl:i.posts.last_page_url,nextpageurl:i.posts.next_page_url,perPage:i.posts.per_page,prevPageUrl:i.posts.prev_page_url,to:i.posts.to,total:i.posts.total},null,8,["links","currentPage","from","lastPage","lastPageUrl","nextpageurl","perPage","prevPageUrl","to","total"])])]),e("div",le,[e("form",{onSubmit:n[5]||(n[5]=S(a=>R(),["prevent"]))},[e("div",ie,[e("h5",null,s(t.trans("Add New Testimonial")),1),e("button",re,[d(m,{class:"text-xl",icon:"mdi:close"})])]),e("div",de,[e("div",ue,[e("label",null,s(t.trans("Reviewer Name")),1),u(e("input",{"onUpdate:modelValue":n[0]||(n[0]=a=>l(r).reviewer_name=a),type:"text",name:"reviewer_name",maxlength:"150",class:"input",required:""},null,512),[[c,l(r).reviewer_name]])]),e("div",me,[e("label",null,s(t.trans("Reviewer Position")),1),u(e("input",{"onUpdate:modelValue":n[1]||(n[1]=a=>l(r).reviewer_position=a),type:"text",name:"reviewer_position",class:"input",required:"",placeholder:"CEO of Google",maxlength:"50"},null,512),[[c,l(r).reviewer_position]])]),e("div",ce,[e("label",null,s(t.trans("Reviewer Avatar")),1),e("input",{onInput:n[2]||(n[2]=a=>l(r).reviewer_avatar=a.target.files[0]),type:"file",name:"reviewer_avatar",accept:"image/*",class:"input",required:""},null,32)]),e("div",pe,[e("label",null,s(t.trans("Review Star")),1),u(e("select",{"onUpdate:modelValue":n[3]||(n[3]=a=>l(r).star=a),class:"select",name:"star"},[e("option",ve,s(t.trans("5 Star")),1),e("option",_e,s(t.trans("4 Star")),1),e("option",he,s(t.trans("3 Star")),1),e("option",we,s(t.trans("2 Star")),1),e("option",be,s(t.trans("1 Star")),1)],512),[[k,l(r).star]])]),e("div",ge,[e("label",null,s(t.trans("Comment")),1),u(e("textarea",{"onUpdate:modelValue":n[4]||(n[4]=a=>l(r).comment=a),class:"textarea h-100",maxlength:"500",name:"comment",required:""},null,512),[[c,l(r).comment]])])]),e("div",fe,[e("div",ye,[e("button",Se,[e("span",null,s(t.trans("Close")),1)]),d(C,{classes:"btn btn-primary",processing:l(r).processing,"btn-text":t.trans("Create")},null,8,["processing","btn-text"])])])],32)]),e("div",ke,[e("form",{onSubmit:n[11]||(n[11]=S(a=>U(),["prevent"]))},[e("div",Ce,[e("h5",null,s(t.trans("Edit Testimonial")),1),e("button",Te,[d(m,{class:"text-xl",icon:"mdi:close"})])]),e("div",xe,[e("div",Pe,[e("label",null,s(t.trans("Reviewer Name")),1),u(e("input",{"onUpdate:modelValue":n[6]||(n[6]=a=>o.value.title=a),type:"text",name:"reviewer_name",id:"reviewer_name",maxlength:"150",class:"input",required:""},null,512),[[c,o.value.title]])]),e("div",Re,[e("label",null,s(t.trans("Reviewer Position")),1),u(e("input",{"onUpdate:modelValue":n[7]||(n[7]=a=>o.value.slug=a),type:"text",name:"reviewer_position",id:"reviewer_position",class:"input",required:"",placeholder:"CEO of Google",maxlength:"50"},null,512),[[c,o.value.slug]])]),e("div",Ue,[e("label",null,s(t.trans("Reviewer Avatar")),1),e("input",{onInput:n[8]||(n[8]=a=>o.value.preview.value=a.target.files[0]),type:"file",name:"reviewer_avatar",accept:"image/*",class:"input"},null,32)]),e("div",De,[e("label",null,s(t.trans("Review Star")),1),u(e("select",{"onUpdate:modelValue":n[9]||(n[9]=a=>o.value.lang=a),class:"select",name:"star",id:"star"},[e("option",Ve,s(t.trans("5 Star")),1),e("option",qe,s(t.trans("4 Star")),1),e("option",Ne,s(t.trans("3 Star")),1),e("option",$e,s(t.trans("2 Star")),1),e("option",Ee,s(t.trans("1 Star")),1)],512),[[k,o.value.lang]])]),e("div",Ie,[e("label",null,s(t.trans("Comment")),1),e("textarea",{value:((b=(w=o.value)==null?void 0:w.excerpt)==null?void 0:b.value)??"",onInput:n[10]||(n[10]=a=>o.value.excerpt.value=a.target.value),class:"textarea h-100",maxlength:"500",name:"comment",id:"comment",required:""},null,40,Oe)])]),e("div",Ae,[e("div",Fe,[e("button",Me,[e("span",null,s(t.trans("Close")),1)]),d(C,{classes:"btn btn-primary",processing:o.value.processing,"btn-text":t.trans("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{Ye as default};
