import{l as M,y as q,T as N,m as U,h as j,o as r,c,b as t,a as i,t as a,u as e,F as g,r as f,i as T,w as C,d as m,v as y,f as v,g as B,p as s,n as E,j as F,x as I,O as L}from"./app-eeb1ee89.js";import{_ as O}from"./AdminLayout-7bd67f05.js";import{_ as z}from"./PageHeader-8760edd0.js";import{h as R}from"./moment-a9aaa855.js";import{s as Y}from"./sharedComposable-624eb874.js";import G from"./OverviewGrid-d8be46f6.js";import{_ as x}from"./SpinnerBtn-cd909105.js";import{d as h}from"./drawer-fe4c5e1a.js";import{t as k}from"./toastComposable-88b306f2.js";import{_ as H}from"./NoDataFound-fb4d7f40.js";import"./dropdown-45d66330.js";import"./actionModalComposable-f268749a.js";const J={class:"container p-4 sm:p-6"},K={class:"space-y-6"},P={class:"table-responsive whitespace-nowrap rounded-primary"},Q={class:"table"},W={class:""},X={class:""},Z={class:"text-center"},tt={class:""},et={class:""},st={class:"flex justify-end"},at={key:0},ot={class:"text-left"},nt={class:"text-left"},lt={class:"text-center"},it={class:"text-left"},dt={class:"text-right"},rt={class:"dropdown","data-placement":"bottom-start"},ct={class:"dropdown-toggle"},ut={class:"dropdown-content w-40"},_t={class:"dropdown-list"},mt={class:"dropdown-list-item"},pt=["onClick"],gt={class:"dropdown-list-item"},vt={id:"addNewCategoryDrawer",class:"drawer drawer-right"},ht={class:"drawer-header"},bt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ft={class:"drawer-body"},wt={class:"mb-2"},Ct={class:"mb-2"},yt={value:"1"},xt={value:"0"},kt={class:"mb-2"},Dt=["value"],St={class:"drawer-footer"},At={class:"flex justify-end gap-2"},$t={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Vt={id:"editCategoryDrawer",class:"drawer drawer-right"},Mt={class:"drawer-header"},qt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Nt={class:"drawer-body"},Ut={class:"mb-2"},jt={class:"mb-2"},Tt={value:"1"},Bt={value:"0"},Et={class:"mb-2"},Ft=["value"],It={class:"drawer-footer"},Lt={class:"flex justify-end gap-2"},Ot={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},zt=B({layout:O}),ee=Object.assign(zt,{__name:"Index",props:["categories","totalCategories","activeCategories","inActiveCategories","languages","buttons"],setup(_){const{deleteRow:D}=Y();M(()=>{h.init()});const b=_,S=q(()=>[{value:b.totalCategories,title:s("Total Categories"),iconClass:"bx:bar-chart"},{value:b.activeCategories,title:s("Active Categories"),iconClass:"bx:check-circle"},{value:b.inActiveCategories,title:s("Inactive Categories"),iconClass:"bx:x-circle"}]),d=N({title:"",status:"active",language:""}),l=U({}),A=()=>{d.post(route("admin.faq-category.store"),{onSuccess:()=>{d.reset(),k.success(s("Category has been added successfully")),h.of("#addNewCategoryDrawer").hide()}})},$=w=>{l.value={...w},h.of("#editCategoryDrawer").show()},V=()=>{L.patch(route("admin.faq-category.update",l.value.id),l.value,{onSuccess:()=>{l.value={},k.success(s("Category has been updated successfully")),h.of("#editCategoryDrawer").hide()}})};return(w,n)=>{const p=j("Icon");return r(),c(g,null,[t("main",J,[i(z,{title:"Categories",buttons:_.buttons},null,8,["buttons"]),t("div",K,[i(G,{items:S.value,grid:"3"},null,8,["items"]),t("div",P,[t("table",Q,[t("thead",null,[t("tr",null,[t("th",W,a(e(s)("Name")),1),t("th",X,a(e(s)("Slug")),1),t("th",Z,a(e(s)("Language")),1),t("th",tt,a(e(s)("Status")),1),t("th",et,a(e(s)("Created At")),1),t("th",st,a(e(s)("Action")),1)])]),_.categories.total?(r(),c("tbody",at,[(r(!0),c(g,null,f(_.categories.data,o=>(r(),c("tr",{key:o.id},[t("td",ot,a(o.title),1),t("td",nt,a(o.slug),1),t("td",lt,a(o.lang),1),t("td",it,[t("span",{class:E(["badge",o.status==1?"badge-success":"badge-danger"])},a(o.status==1?e(s)("Active"):e(s)("Draft")),3)]),t("td",null,a(e(R)(o.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",dt,[t("div",rt,[t("div",ct,[i(p,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",ut,[t("ul",_t,[t("li",mt,[t("button",{onClick:u=>$(o),class:"dropdown-link"},[i(p,{icon:"fe:edit"}),t("span",null,a(e(s)("Edit")),1)],8,pt)]),t("li",gt,[i(e(I),{as:"button",class:"dropdown-link",onClick:u=>e(D)("/admin/category/"+o.id)},{default:F(()=>[i(p,{icon:"fe:trash"}),t("span",null,a(e(s)("Delete")),1)]),_:2},1032,["onClick"])])])])])])])]))),128))])):(r(),T(H,{key:1,"for-table":"true"}))])])])]),t("div",vt,[t("form",{onSubmit:n[3]||(n[3]=C(o=>A(),["prevent"]))},[t("div",ht,[t("h5",null,a(e(s)("Add New Category")),1),t("button",bt,[i(p,{class:"text-xl",icon:"mdi:close"})])]),t("div",ft,[t("div",wt,[t("label",null,a(e(s)("Title")),1),m(t("input",{"onUpdate:modelValue":n[0]||(n[0]=o=>e(d).title=o),type:"text",name:"title",class:"input",required:""},null,512),[[y,e(d).title]])]),t("div",Ct,[t("label",null,a(e(s)("Status")),1),m(t("select",{required:"","onUpdate:modelValue":n[1]||(n[1]=o=>e(d).status=o),class:"select",name:"status"},[t("option",yt,a(e(s)("Active")),1),t("option",xt,a(e(s)("Deactive")),1)],512),[[v,e(d).status]])]),t("div",kt,[t("label",null,a(e(s)("Language")),1),m(t("select",{required:"","onUpdate:modelValue":n[2]||(n[2]=o=>e(d).language=o),class:"select",name:"language"},[(r(!0),c(g,null,f(_.languages,(o,u)=>(r(),c("option",{key:u,value:u},a(o),9,Dt))),128))],512),[[v,e(d).language]])])]),t("div",St,[t("div",At,[t("button",$t,[t("span",null,a(e(s)("Close")),1)]),i(x,{classes:"btn btn-primary",processing:e(d).processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),t("div",Vt,[t("form",{onSubmit:n[7]||(n[7]=C(o=>V(),["prevent"]))},[t("div",Mt,[t("h5",null,a(e(s)("Edit Category")),1),t("button",qt,[i(p,{class:"text-xl",icon:"mdi:close"})])]),t("div",Nt,[t("div",Ut,[t("label",null,a(e(s)("Title")),1),m(t("input",{"onUpdate:modelValue":n[4]||(n[4]=o=>l.value.title=o),type:"text",name:"title",class:"input",required:""},null,512),[[y,l.value.title]])]),t("div",jt,[t("label",null,a(e(s)("Status")),1),m(t("select",{"onUpdate:modelValue":n[5]||(n[5]=o=>l.value.status=o),class:"select",name:"status"},[t("option",Tt,a(e(s)("Active")),1),t("option",Bt,a(e(s)("Deactive")),1)],512),[[v,l.value.status]])]),t("div",Et,[t("label",null,a(e(s)("Language")),1),m(t("select",{"onUpdate:modelValue":n[6]||(n[6]=o=>l.value.lang=o),class:"select",name:"language"},[(r(!0),c(g,null,f(_.languages,(o,u)=>(r(),c("option",{key:u,value:u},a(o),9,Ft))),128))],512),[[v,l.value.lang]])])]),t("div",It,[t("div",Lt,[t("button",Ot,[t("span",null,a(e(s)("Close")),1)]),i(x,{classes:"btn btn-primary",processing:l.value.processing,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{ee as default};
