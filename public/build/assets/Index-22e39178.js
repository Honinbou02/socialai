import{l as I,p as s,T as U,m as g,h as V,o as p,c as h,b as t,a as r,t as a,u as e,F as w,r as M,i as N,e as T,w as y,d as u,v as x,f,g as F,n as q,O as E}from"./app-eeb1ee89.js";import{_ as O}from"./AdminLayout-7bd67f05.js";import{_ as j}from"./PageHeader-8760edd0.js";import{_ as z}from"./Paginate-2104b717.js";import{h as L}from"./moment-a9aaa855.js";import{s as R}from"./sharedComposable-624eb874.js";import Y from"./OverviewGrid-d8be46f6.js";import{_ as G}from"./NoDataFound-fb4d7f40.js";import{_ as k}from"./SpinnerBtn-cd909105.js";import{t as P}from"./toastComposable-88b306f2.js";import{d as _}from"./drawer-fe4c5e1a.js";import"./dropdown-45d66330.js";import"./actionModalComposable-f268749a.js";const H={class:"container flex-grow p-4 sm:p-6"},J={class:"space-y-6"},K={class:"card"},Q={class:"table-responsive whitespace-nowrap rounded-primary"},W={class:"table"},X={class:"!text-right"},Z={class:"text-left"},tt=["src"],et={class:"text-left"},st={class:"text-left"},at={class:"text-left"},nt={class:"dropdown","data-placement":"bottom-start"},ot={class:"dropdown-toggle"},lt={class:"dropdown-content w-40"},rt={class:"dropdown-list"},it={class:"dropdown-list-item"},dt=["onClick"],ct={class:"dropdown-list-item"},ut=["onClick"],pt={id:"addNewPartnerDrawer",class:"drawer drawer-right"},_t={class:"drawer-header"},mt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},vt={class:"drawer-body"},bt={class:"mb-2"},ht={class:"mb-2"},ft={class:"mb-2"},gt={value:"partner"},wt={value:"integration"},yt={class:"mb-2"},xt={class:"select",name:"status"},kt={value:"1"},Pt={value:"0"},Ct={class:"drawer-footer"},Bt={class:"flex justify-end gap-2"},Dt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},St={id:"editPartnerDrawer",class:"drawer drawer-right"},$t={class:"drawer-header"},At={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},It={class:"drawer-body"},Ut={class:"mb-2"},Vt={class:"mb-2"},Mt={class:"mb-2"},Nt={value:"partner"},Tt={value:"integration"},Ft={class:"mb-2"},qt={value:"1"},Et={value:"0"},Ot={class:"drawer-footer"},jt={class:"flex justify-end gap-2"},zt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Lt=F({layout:O}),ae=Object.assign(Lt,{__name:"Index",props:["brands","totalBrands","activeBrands","inActiveBrands","buttons"],setup(d){const{deleteRow:C}=R();I(()=>{_.init()});const m=d,B=[{value:m.totalBrands,title:s("Total Partners"),iconClass:"bx:bar-chart"},{value:m.activeBrands,title:s("Active Partners"),iconClass:"bx:check-circle"},{value:m.inActiveBrands,title:s("Inactive Partners"),iconClass:"bx:x-circle"}],i=U({url:"",status:"1",type:"partner",preview:null}),v=g(!1),l=g({}),D=()=>{i.post(route("admin.partner.store"),{onSuccess:()=>{i.reset(),_.of("#addNewPartnerDrawer").hide(),P.success(s("Partner has been created successfully"))}})};function S(b){l.value={...b},_.of("#editPartnerDrawer").show()}const $=()=>{!l.value.preview instanceof File&&(l.value.preview=null),v.value=!0,E.post(route("admin.partner.update",l.value.id),{_method:"patch",partner:l.value},{onSuccess:()=>{l.value={},v.value=!1,_.of("#editPartnerDrawer").hide(),P.success(s("Partner has been updated successfully"))}})};return(b,o)=>{const c=V("Icon");return p(),h(w,null,[t("main",H,[r(j,{title:"Partners",buttons:d.buttons},null,8,["buttons"]),t("div",J,[r(Y,{items:B,grid:"3"}),t("div",K,[t("div",Q,[t("table",W,[t("thead",null,[t("tr",null,[t("th",null,a(e(s)("Image")),1),t("th",null,a(e(s)("Url")),1),t("th",null,a(e(s)("Type")),1),t("th",null,a(e(s)("Status")),1),t("th",null,a(e(s)("Created At")),1),t("th",X,a(e(s)("Action")),1)])]),t("tbody",null,[(p(!0),h(w,null,M(d.brands.data,n=>(p(),h("tr",{key:n.id},[t("td",Z,[t("img",{src:n.preview,class:"avatar rounded-square w-70-per"},null,8,tt)]),t("td",et,a(n.title),1),t("td",st,a(n.lang=="en"?"Partner":n.lang),1),t("td",at,[t("span",{class:q(["badge",n.status==1?"badge-success":"badge-danger"])},a(n.status==1?e(s)("Active"):e(s)("Draft")),3)]),t("td",null,a(e(L)(n.created_at).format("D-MMM-Y")),1),t("td",null,[t("div",nt,[t("div",ot,[r(c,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",lt,[t("ul",rt,[t("li",it,[t("button",{onClick:A=>S(n),class:"dropdown-link"},[r(c,{icon:"fe:edit"}),t("span",null,a(e(s)("Edit")),1)],8,dt)]),t("li",ct,[t("button",{class:"dropdown-link",onClick:A=>e(C)(b.route("admin.partner.destroy",n.id))},[r(c,{icon:"fe:trash"}),t("span",null,a(e(s)("Delete")),1)],8,ut)])])])])])]))),128))]),d.brands.total?T("",!0):(p(),N(G,{key:0,"for-table":!0}))])])]),r(z,{links:d.brands.links},null,8,["links"])])]),t("div",pt,[t("form",{onSubmit:o[3]||(o[3]=y(n=>D(),["prevent"]))},[t("div",_t,[t("h5",null,a(e(s)("Add New Partner")),1),t("button",mt,[r(c,{class:"text-xl",icon:"mdi:close"})])]),t("div",vt,[t("div",bt,[t("label",null,a(e(s)("Brand Url")),1),u(t("input",{type:"text",name:"url","onUpdate:modelValue":o[0]||(o[0]=n=>e(i).url=n),class:"input"},null,512),[[x,e(i).url]])]),t("div",ht,[t("label",null,a(e(s)("Brand image")),1),t("input",{onInput:o[1]||(o[1]=n=>e(i).preview=n.target.files[0]),type:"file",accept:"image/*",name:"image",required:"",class:"input"},null,32)]),t("div",ft,[t("label",null,a(e(s)("Type")),1),u(t("select",{class:"select",name:"type","onUpdate:modelValue":o[2]||(o[2]=n=>e(i).type=n)},[t("option",gt,a(e(s)("Partner / Brand")),1),t("option",wt,a(e(s)("Integration Partner")),1)],512),[[f,e(i).type]])]),t("div",yt,[t("label",null,a(e(s)("Status")),1),t("select",xt,[t("option",kt,a(e(s)("Active")),1),t("option",Pt,a(e(s)("Deactivate")),1)])])]),t("div",Ct,[t("div",Bt,[t("button",Dt,[t("span",null,a(e(s)("Close")),1)]),r(k,{classes:"btn btn-primary",processing:e(i).processing,"btn-text":e(s)("Create")},null,8,["processing","btn-text"])])])],32)]),t("div",St,[t("form",{onSubmit:o[8]||(o[8]=y(n=>$(),["prevent"]))},[t("div",$t,[t("h5",null,a(e(s)("Edit Partner")),1),t("button",At,[r(c,{class:"text-xl",icon:"mdi:close"})])]),t("div",It,[t("div",Ut,[t("label",null,a(e(s)("Brand Url")),1),u(t("input",{type:"text",name:"url","onUpdate:modelValue":o[4]||(o[4]=n=>l.value.title=n),class:"input",id:"url"},null,512),[[x,l.value.title]])]),t("div",Vt,[t("label",null,a(e(s)("Brand image")),1),t("input",{onInput:o[5]||(o[5]=n=>l.value.preview=n.target.files[0]),type:"file",name:"image",accept:"image/*",class:"input"},null,32)]),t("div",Mt,[t("label",null,a(e(s)("Type")),1),u(t("select",{class:"select",name:"type","onUpdate:modelValue":o[6]||(o[6]=n=>l.value.lang=n),id:"type",required:""},[t("option",Nt,a(e(s)("Partner / Brand")),1),t("option",Tt,a(e(s)("Integration Partner")),1)],512),[[f,l.value.lang]])]),t("div",Ft,[t("label",null,a(e(s)("Status")),1),u(t("select",{"onUpdate:modelValue":o[7]||(o[7]=n=>l.value.status=n),class:"select",name:"status",id:"status"},[t("option",qt,a(e(s)("Active")),1),t("option",Et,a(e(s)("Deactive")),1)],512),[[f,l.value.status]])])]),t("div",Ot,[t("div",jt,[t("button",zt,[t("span",null,a(e(s)("Close")),1)]),r(k,{classes:"btn btn-primary",processing:v.value,"btn-text":e(s)("Save Changes")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{ae as default};
