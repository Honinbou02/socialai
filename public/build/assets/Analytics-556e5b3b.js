import{h as P}from"./moment-a9aaa855.js";import{_ as $}from"./FilterDropdown-67369413.js";import{_ as R}from"./NoDataFound-fb4d7f40.js";import{_ as T}from"./Paginate-2104b717.js";import{s as j}from"./sharedComposable-624eb874.js";import{_ as A}from"./PageHeader-8760edd0.js";import{_ as B}from"./UserLayout-3d8e0176.js";import{y as D,h as b,o as a,c as l,a as i,b as t,F as p,r as f,j as L,t as e,u as n,i as Y,g as E,p as o,n as h,k as m}from"./app-eeb1ee89.js";import"./SpinnerBtn-b72a47b7.js";import"./toastComposable-88b306f2.js";import"./actionModalComposable-f268749a.js";import"./dropdown-45d66330.js";const F={class:"container flex-grow p-4 sm:p-6"},I={class:"space-y-6"},M={class:"grid grid-cols-1 gap-8 sm:grid-cols-2 xl:grid-cols-3"},N={class:"flex items-center gap-3 p-5"},O={class:"flex flex-1 flex-col"},V={class:"text-sm tracking-wide text-slate-500"},q={class:"flex items-center justify-between gap-2"},z={class:"ml-auto w-80"},S={class:"table-responsive whitespace-nowrap rounded-primary"},G={class:"table"},H={key:0},J=["src"],K={class:"flex items-center gap-2"},Q=["src"],U={key:0,class:"badge badge-info"},W={key:1,class:"text-md rounded-full border bg-gray-100 px-3 py-1 dark:border-gray-400 dark:bg-gray-700 dark:text-white"},X=t("i",{class:"bx bx-like"},null,-1),Z={key:0,class:"badge badge-info"},tt={key:1,class:"text-md rounded-full border bg-gray-100 px-3 py-1 dark:border-gray-400 dark:bg-gray-700 dark:text-white"},st=t("i",{class:"bx bx-comment"},null,-1),et=E({layout:B}),pt=Object.assign(et,{__name:"Analytics",props:["buttons","request","posts","type","totalPost","totalReactions","totalComments"],setup(r){const{textExcerpt:g}=j(),d=r,x=[{label:"Content",value:"content"},{label:"Platform",value:"platform",options:[{label:"Facebook",value:"facebook"},{label:"Twitter",value:"twitter"},{label:"Instagram",value:"instagram"},{label:"Linkedin",value:"linkedin"},{label:"tiktok",value:"tiktok"}]}],k=D(()=>[{title:o("Total Posts"),value:d.totalPost,icon:"bx bx-bar-chart-alt-2",classes:"bg-primary-500 text-primary-500"},{title:o("Total Reactions"),value:d.totalReactions,icon:"bx bx-like",classes:"text-success-500 bg-success-500"},{title:o("Total Comments"),value:d.totalComments,icon:"bx bx-comment-detail",classes:"text-warning-500 bg-warning-500"}]);return(y,u)=>{const v=b("Icon"),w=b("Link");return a(),l("main",F,[i(A,{title:"Analytics",buttons:r.buttons},null,8,["buttons"]),t("div",I,[t("section",M,[(a(!0),l(p,null,f(k.value,(s,c)=>(a(),l("div",{key:c,class:"card rounded-2xl"},[t("div",N,[t("div",{class:h(["flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl bg-opacity-10",s.classes])},[t("i",{class:h(["text-2xl",s.icon])},null,2)],2),t("div",O,[t("p",V,e(s.title),1),t("h5",null,e(s.value),1)])])]))),128))]),t("div",q,[i(w,{class:"btn btn-sm btn-primary text-center",href:y.route("user.analytics.index",{refresh:!0})},{default:L(()=>[i(v,{icon:"bx:refresh",class:"text-lg"}),t("span",null,e(n(o)("Refresh Analytics")),1)]),_:1},8,["href"]),t("div",z,[i($,{options:x})])]),t("div",S,[t("table",G,[t("thead",null,[t("tr",null,[t("th",null,e(n(o)("Platform")),1),t("th",null,e(n(o)("Content")),1),t("th",null,e(n(o)("Publish Date")),1),t("th",null,e(n(o)("Reactions")),1),t("th",null,e(n(o)("Comments")),1)])]),r.posts.total?(a(),l("tbody",H,[(a(!0),l(p,null,f(r.posts.data,s=>{var c,_;return a(),l("tr",{key:s.id},[t("td",null,[t("img",{src:`/assets/svg/${s.platform}.svg`,class:"h-6"},null,8,J)]),t("td",null,[t("div",K,[t("img",{src:((_=(c=s.brand_post)==null?void 0:c.media)==null?void 0:_[0])??"/assets/images/no-photo-available.png",onError:u[0]||(u[0]=C=>C.target.src="/assets/images/no-photo-available.png"),class:"h-8 rounded border"},null,40,Q),m(" "+e(n(g)(s.content,50)),1)])]),t("td",null,e(n(P)(s.published_at).format("DD MMM, YYYY h:mm A")),1),t("td",null,[s.platform=="linkedin"?(a(),l("div",U,e(n(o)("not supported")),1)):(a(),l("span",W,[X,m(" "+e(s.reactions),1)]))]),t("td",null,[s.platform=="linkedin"?(a(),l("div",Z,e(n(o)("not supported")),1)):(a(),l("span",tt,[st,m(" "+e(s.comments),1)]))])])}),128))])):(a(),Y(R,{key:1,"for-table":"true"}))]),i(T,{links:r.posts.links},null,8,["links"])])])])}}});export{pt as default};
