import{l as U,y as B,T as x,h as N,o as r,c,b as t,a as i,t as o,u as s,F as p,r as g,i as T,w as k,d as m,f as h,v as C,g as F,p as e,n as L}from"./app-eeb1ee89.js";import{_ as q}from"./AdminLayout-7bd67f05.js";import{_ as z}from"./PageHeader-8760edd0.js";import{_ as j}from"./Paginate-2104b717.js";import{h as O}from"./moment-a9aaa855.js";import{s as R}from"./sharedComposable-624eb874.js";import Y from"./OverviewGrid-d8be46f6.js";import{_ as S}from"./SpinnerBtn-cd909105.js";import{d as v}from"./drawer-fe4c5e1a.js";import{_ as G}from"./NoDataFound-fb4d7f40.js";import{_ as w}from"./InputFieldError-3a343586.js";import"./dropdown-45d66330.js";import"./toastComposable-88b306f2.js";import"./actionModalComposable-f268749a.js";const H={class:"container p-4 sm:p-6"},J={class:"space-y-6"},K={class:"table-responsive whitespace-nowrap rounded-primary"},P={class:"table"},Q={class:"text-right"},W={key:0},X={class:"text-left"},Z={class:"text-left"},tt={class:""},st={class:"dropdown","data-placement":"bottom-start"},et={class:"dropdown-toggle"},ot={class:"dropdown-content w-40"},at={class:"dropdown-list"},nt={class:"dropdown-list-item"},it=["onClick"],lt={class:"dropdown-list-item"},dt=["onClick"],rt={id:"addNewItemDrawer",class:"drawer drawer-right"},ct={class:"drawer-header"},ut={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},_t={class:"drawer-body"},mt={class:"mb-2"},bt={for:""},pt={value:""},ht=["value"],vt={class:"mb-2"},ft={class:"label mb-2"},gt={class:"mb-2"},wt={class:"label mb-2"},yt={value:"active"},xt={value:"inactive"},kt={class:"drawer-footer"},Ct={class:"flex gap-2"},St={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},Dt={id:"editItemDrawer",class:"drawer drawer-right"},It={class:"drawer-header"},At={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Et={class:"drawer-body"},$t={class:"mb-2"},Vt={for:""},Mt={value:""},Ut=["value"],Bt={class:"mb-2"},Nt={class:"label mb-2"},Tt={class:"mb-2"},Ft={class:"label mb-2"},Lt={value:"active"},qt={value:"inactive"},zt={class:"drawer-footer"},jt={class:"flex gap-2"},Ot={type:"button",class:"btn btn-secondary w-full","data-dismiss":"drawer"},Rt=F({layout:q}),as=Object.assign(Rt,{__name:"Index",props:["strategies","categories","total","active","inActive","buttons"],setup(u){const{deleteRow:D,textExcerpt:I}=R();U(()=>{v.init()});const f=u,A=B(()=>[{value:f.total,title:e("Total"),iconClass:"bx:badge"},{value:f.active,title:e("Active"),iconClass:"bx:badge-check"},{value:f.inActive,title:e("Inactive"),iconClass:"bx:x-circle"}]),d=x({category_id:"",body:"",status:"active"}),E=()=>{d.post(route("admin.brand-strategies.store"),{onSuccess:()=>{d.reset(),v.of("#addNewItemDrawer").hide()}})},n=x({id:"",category_id:"",body:"",status:"active"}),$=_=>{n.id=_.id,n.category_id=_.category_id,n.body=_.body,n.status=_.status,v.of("#editItemDrawer").show()},V=()=>{n.put(route("admin.brand-strategies.update",n.id),{onSuccess:()=>{v.of("#editItemDrawer").hide()}})};return(_,l)=>{const b=N("Icon");return r(),c(p,null,[t("main",H,[i(z,{title:"Brand Strategies",buttons:u.buttons},null,8,["buttons"]),t("div",J,[i(Y,{items:A.value,grid:"3"},null,8,["items"]),t("div",K,[t("table",P,[t("thead",null,[t("tr",null,[t("th",null,o(s(e)("Category")),1),t("th",null,o(s(e)("Strategy")),1),t("th",null,o(s(e)("Status")),1),t("th",null,o(s(e)("Created At")),1),t("th",null,[t("p",Q,o(s(e)("Action")),1)])])]),u.strategies.total?(r(),c("tbody",W,[(r(!0),c(p,null,g(u.strategies.data,a=>{var y;return r(),c("tr",{key:a.id},[t("td",null,o((y=a.category)==null?void 0:y.title),1),t("td",X,o(s(I)(a.body,100)),1),t("td",Z,[t("span",{class:L(["badge",a.status=="active"?"badge-success":"badge-danger"])},o(a.status=="active"?s(e)("Active"):s(e)("Draft")),3)]),t("td",null,o(s(O)(a.created_at).format("D-MMM-Y")),1),t("td",tt,[t("div",st,[t("div",et,[i(b,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",ot,[t("ul",at,[t("li",nt,[t("button",{onClick:M=>$(a),class:"dropdown-link"},[i(b,{icon:"fe:edit"}),t("span",null,o(s(e)("Edit")),1)],8,it)]),t("li",lt,[t("button",{as:"button",class:"dropdown-link",onClick:M=>s(D)(_.route("admin.brand-strategies.destroy",a.id))},[i(b,{icon:"fe:trash"}),t("span",null,o(s(e)("Delete")),1)],8,dt)])])])])])])}),128))])):(r(),T(G,{key:1,"for-table":"true"}))])]),i(j,{links:u.strategies.links},null,8,["links"])])]),t("div",rt,[t("form",{onSubmit:k(E,["prevent"])},[t("div",ct,[t("h5",null,o(s(e)("Add New Strategy")),1),t("button",ut,[i(b,{class:"text-xl",icon:"mdi:close"})])]),t("div",_t,[t("div",mt,[t("label",bt,o(s(e)("Category")),1),m(t("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>s(d).category_id=a),class:"select"},[t("option",pt,o(s(e)("SELECT")),1),(r(!0),c(p,null,g(u.categories,a=>(r(),c("option",{value:a.id,key:a.id},o(a.title),9,ht))),128))],512),[[h,s(d).category_id]])]),t("div",vt,[t("label",ft,o(s(e)("Strategy")),1),m(t("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>s(d).body=a),type:"text",class:"input"},null,512),[[C,s(d).body]]),i(w,{message:s(d).errors.body},null,8,["message"])]),t("div",gt,[t("label",wt,o(s(e)("Status")),1),m(t("select",{required:"","onUpdate:modelValue":l[2]||(l[2]=a=>s(d).status=a),class:"select",name:"status"},[t("option",yt,o(s(e)("Active")),1),t("option",xt,o(s(e)("Draft")),1)],512),[[h,s(d).status]])])]),t("div",kt,[t("div",Ct,[t("button",St,[t("span",null,o(s(e)("Close")),1)]),i(S,{classes:"btn btn-primary w-full",processing:s(d).processing,"btn-text":s(e)("Create")},null,8,["processing","btn-text"])])])],32)]),t("div",Dt,[t("form",{onSubmit:k(V,["prevent"])},[t("div",It,[t("h5",null,o(s(e)("Edit Strategy")),1),t("button",At,[i(b,{class:"text-xl",icon:"mdi:close"})])]),t("div",Et,[t("div",$t,[t("label",Vt,o(s(e)("Category")),1),m(t("select",{"onUpdate:modelValue":l[3]||(l[3]=a=>s(n).category_id=a),class:"select"},[t("option",Mt,o(s(e)("SELECT")),1),(r(!0),c(p,null,g(u.categories,a=>(r(),c("option",{value:a.id,key:a.id},o(a.title),9,Ut))),128))],512),[[h,s(n).category_id]]),i(w,{message:s(n).errors.category_id},null,8,["message"])]),t("div",Bt,[t("label",Nt,o(s(e)("Strategy")),1),m(t("input",{"onUpdate:modelValue":l[4]||(l[4]=a=>s(n).body=a),type:"text",class:"input"},null,512),[[C,s(n).body]]),i(w,{message:s(n).errors.body},null,8,["message"])]),t("div",Tt,[t("label",Ft,o(s(e)("Status")),1),m(t("select",{required:"","onUpdate:modelValue":l[5]||(l[5]=a=>s(n).status=a),class:"select",name:"status"},[t("option",Lt,o(s(e)("Active")),1),t("option",qt,o(s(e)("Draft")),1)],512),[[h,s(n).status]])])]),t("div",zt,[t("div",jt,[t("button",Ot,[t("span",null,o(s(e)("Close")),1)]),i(S,{classes:"btn btn-primary w-full",processing:s(n).processing,"btn-text":s(e)("Update")},null,8,["processing","btn-text"])])])],32)])],64)}}});export{as as default};
