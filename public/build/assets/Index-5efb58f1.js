import{T as $,m as z,U as B,l as L,h as A,o as m,c as b,b as t,a as d,t as o,k as M,w as V,u as e,d as p,f as I,F as P,r as F,v as y,H as E,O as R,p as n,i as T,e as H,g as K,j,n as Q}from"./app-eeb1ee89.js";import{_ as G}from"./AdminLayout-7bd67f05.js";import{_ as J}from"./PageHeader-8760edd0.js";import W from"./OverviewGrid-d8be46f6.js";import{_ as X}from"./Paginate-2104b717.js";import{d as N}from"./drawer-fe4c5e1a.js";import{t as Y}from"./toastComposable-88b306f2.js";import{_ as U}from"./SpinnerBtn-cd909105.js";import{_ as Z}from"./NoDataFound-fb4d7f40.js";import{s as tt}from"./sharedComposable-624eb874.js";import"./dropdown-45d66330.js";import"./actionModalComposable-f268749a.js";const et={class:"flex items-stretch justify-end gap-x-2"},st={class:"dropdown","data-placement":"bottom-end"},ot={class:"dropdown-toggle"},nt={type:"button",class:"font-medium bg-white shadow-sm btn dark:bg-slate-800 hover:dark:bg-slate-700 border border-slate-700"},at={class:"dropdown-content w-72 !overflow-visible"},lt={class:"p-4 space-y-4 dropdown-list"},it={key:0,class:"dropdown-list-item"},rt={class:"mb-1 capitalize"},dt=["value"],ct={key:1,class:"dropdown-list-item"},ut={class:"mb-1"},pt={class:"dropdown-list-item"},mt={class:"mb-1"},_t=["value","selected"],bt={class:"dropdown-list-item"},ht=t("i",{class:"bx bx-x"},null,-1),vt=[ht],yt={__name:"FilterForm",props:{action:{type:String,required:!1,default:""},options:{type:[Array,Object],required:!1,default:[{value:"id",label:"id",selected:!0}]}},setup(h){var g,O,C,l,w,f;const v=h,x=()=>{const s={},_=new URLSearchParams(window.location.search);for(const[c,i]of _)s.hasOwnProperty(c)?Array.isArray(s[c])?s[c].push(i):s[c]=[s[c],i]:s[c]=i;return s},a=$({search:((g=x())==null?void 0:g.search)??"",type:((O=x())==null?void 0:O.type)??((l=(C=v.options)==null?void 0:C.find(s=>s.selected))==null?void 0:l.value)??((f=(w=v.options)==null?void 0:w[0])==null?void 0:f.value)??""}),D=()=>{a.get(v.action)},u=()=>{R.get(location.pathname)},r=z([]);return B(()=>a.type,()=>{var s,_,c,i;if(a.search="",v.options&&a.type){let S=((s=v.options)==null?void 0:s.find(q=>q.value==a.type))??[];r.value=S.options??[],a.search=((c=(_=S.options)==null?void 0:_.find(q=>q.selected==!0))==null?void 0:c.value)??((i=r.value[0])==null?void 0:i.value)??""}else r.value=[]}),L(()=>{var c,i;let s=((c=v.options)==null?void 0:c.find(S=>S.value==a.type))??{};s.hasOwnProperty("options")&&Array.isArray(s.options)&&(r.value=s.options,a.search||(a.search=((i=r.value[0])==null?void 0:i.value)??""))}),(s,_)=>{const c=A("Icon");return m(),b("div",et,[t("div",st,[t("div",ot,[t("button",nt,[d(c,{icon:"fe:filter"}),t("span",null,o(s.trans("Filter")),1),d(c,{icon:"bx:chevron-down"})])]),t("div",at,[M(o(v.action??"nai")+" ",1),t("form",{onSubmit:V(D,["prevent"])},[t("ul",lt,[r.value.length?(m(),b("li",it,[t("label",rt,o(e(a).type),1),p(t("select",{class:"select","onUpdate:modelValue":_[0]||(_[0]=i=>e(a).search=i)},[(m(!0),b(P,null,F(r.value,i=>(m(),b("option",{key:i.value,value:i.value},o(i.label),9,dt))),128))],512),[[I,e(a).search]])])):(m(),b("li",ct,[t("label",ut,o(s.trans("Search Keyword")),1),p(t("input",{type:"text","onUpdate:modelValue":_[1]||(_[1]=i=>e(a).search=i),class:"input",placeholder:"enter search keyword"},null,512),[[y,e(a).search]])])),t("li",pt,[t("label",mt,o(s.trans("Search Type")),1),p(t("select",{class:"select","onUpdate:modelValue":_[2]||(_[2]=i=>e(a).type=i)},[(m(!0),b(P,null,F(h.options,i=>(m(),b("option",{key:i.value,value:i.value,selected:i.selected},o(i.label),9,_t))),128))],512),[[I,e(a).type]])]),t("li",bt,[d(U,{type:"submit",processing:e(a).processing,"btn-text":s.trans("Search"),class:"w-full btn btn-primary"},null,8,["processing","btn-text"])])])],32)])]),p(t("button",{onClick:u,class:"flex items-center bg-gray-300 border dark:bg-gray-700 btn hover:dark:bg-slate-800 hover:dark:border-slate-700 dark:border-gray-600",title:"clear filter"},vt,512),[[E,x().search]])])}}},ft={class:"container flex-grow p-4 sm:p-6"},wt={class:"space-y-4"},gt={class:"table-responsive whitespace-nowrap rounded-primary"},xt={class:"table"},kt={class:"w-[5%] uppercase"},Ct={class:"w-[15%] uppercase"},Ot={class:"w-[10%] uppercase"},St={class:"w-[10%] uppercase"},$t={class:"w-[10%] uppercase"},Vt={class:"w-[10%] uppercase"},Ut={class:"w-[5%] !text-right uppercase"},Pt={key:0},Dt={class:"text-center"},qt={class:"flex justify-end"},At={class:"dropdown","data-placement":"bottom-start"},It={class:"dropdown-toggle"},Ft={class:"dropdown-content w-40"},Tt={class:"dropdown-list"},jt={class:"dropdown-list-item"},Nt={id:"invoiceSettingDrawer",class:"drawer drawer-right"},Lt={class:"drawer-header"},Mt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},zt={class:"drawer-body"},Bt={class:"mb-2"},Et={class:"mb-2"},Rt={class:"mb-2"},Ht={class:"mb-2"},Kt={class:"mb-2"},Qt={class:"drawer-footer"},Gt={class:"flex justify-end gap-2"},Jt={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},Wt={id:"currencySettingDrawer",class:"drawer drawer-right"},Xt={class:"drawer-header"},Yt={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},Zt={class:"drawer-body"},te={class:"mb-2"},ee={class:"mb-2"},se={class:"mb-2"},oe={value:"left"},ne={value:"right"},ae={class:"drawer-footer"},le={class:"flex justify-end gap-2"},ie={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},re={id:"taxSettingDrawer",class:"drawer drawer-right"},de={class:"drawer-header"},ce={type:"button",class:"btn btn-plain-secondary dark:text-slate-300 dark:hover:bg-slate-700 dark:focus:bg-slate-700","data-dismiss":"drawer"},ue={class:"drawer-body"},pe={class:"mb-2"},me={class:"drawer-footer"},_e={class:"flex justify-end gap-2"},be={type:"button",class:"btn btn-secondary","data-dismiss":"drawer"},he=t("div",{class:"drawer-backdrop"},null,-1),ve=K({layout:G}),Pe=Object.assign(ve,{__name:"Index",props:["buttons","orders","request","totalOrders","totalPendingOrders","totalCompleteOrders","totalDeclinedOrders","type","invoice","currency","tax"],setup(h){L(()=>{N.init()});const{formatCurrency:v,badgeClass:x}=tt(),a=h,D=[{value:a.totalOrders,title:n("Total Orders"),iconClass:"bx:badge-check"},{value:a.totalPendingOrders,title:n("Pending Orders"),iconClass:"bx:badge"},{value:a.totalCompleteOrders,title:n("Completed Orders"),iconClass:"bx:check"},{value:a.totalDeclinedOrders,title:n("Declined Orders"),iconClass:"bx:x-circle"}],u=$({company_name:a.invoice.company_name,address:a.invoice.address,city:a.invoice.city,post_code:a.invoice.post_code,country:a.invoice.country}),r=$({name:a.currency.name,icon:a.currency.icon,position:a.currency.position}),k=$({tax:a.tax});function g(C,l,w){C.put(route("admin.option.update",l),{onSuccess:()=>{Y.success("Option Updated successfully"),N.of(w).hide()}})}const O=[{value:"invoice_no",label:"Invoice No"},{value:"email",label:"Email"},{label:"Status",value:"status",options:[{label:"Pending",value:"0"},{label:"Active",value:"1"}]}];return(C,l)=>{const w=A("Link"),f=A("Icon");return m(),b(P,null,[t("main",ft,[d(J,{title:e(n)("Order List"),buttons:h.buttons},null,8,["title","buttons"]),t("div",wt,[d(W,{items:D}),d(yt,{options:O}),t("div",gt,[t("table",xt,[t("thead",null,[t("tr",null,[t("th",kt,o(e(n)("Order No")),1),t("th",Ct,o(e(n)("Plan Name")),1),t("th",Ot,o(e(n)("Payment Mode")),1),t("th",St,o(e(n)("Amount")),1),t("th",$t,o(e(n)("Status")),1),t("th",Vt,o(e(n)("Created At")),1),t("th",Ut,o(e(n)("Actions")),1)])]),h.orders.total?(m(),b("tbody",Pt,[(m(!0),b(P,null,F(h.orders.data,s=>(m(),b("tr",{key:s.id},[t("td",null,[d(w,{href:"/admin/order/"+s.id,class:"text-sm font-medium text-primary-500 transition duration-150 ease-in-out hover:underline"},{default:j(()=>[M(o(s.invoice_no),1)]),_:2},1032,["href"])]),t("td",null,o(s.plan.title),1),t("td",null,o(s.gateway.name),1),t("td",null,o(e(v)(s.amount)),1),t("td",null,[t("div",{class:Q(["capitalize",e(x)(s.status)])},o(s.status),3)]),t("td",Dt,o(s.created_at_diff),1),t("td",null,[t("div",qt,[t("div",At,[t("div",It,[d(f,{class:"text-2xl",icon:"bx:dots-horizontal-rounded"})]),t("div",Ft,[t("ul",Tt,[t("li",jt,[d(w,{href:"/admin/order/"+s.id,class:"dropdown-link"},{default:j(()=>[d(f,{icon:"fe:eye"}),t("span",null,o(e(n)("View")),1)]),_:2},1032,["href"])])])])])])])]))),128))])):(m(),T(Z,{key:1,"for-table":"true"}))])]),h.orders.data.length!=0?(m(),T(X,{key:0,links:h.orders.links},null,8,["links"])):H("",!0)])]),t("div",Nt,[t("form",{method:"POST",onSubmit:l[5]||(l[5]=V(s=>g(e(u),"invoice_data","#invoiceSettingDrawer"),["prevent"]))},[t("div",Lt,[t("h5",null,o(e(n)("Edit Invoice Information")),1),t("button",Mt,[d(f,{class:"text-xl",icon:"mdi:close"})])]),t("div",zt,[t("div",Bt,[t("label",null,o(e(n)("Company Name")),1),p(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>e(u).company_name=s),class:"input",required:""},null,512),[[y,e(u).company_name]])]),t("div",Et,[t("label",null,o(e(n)("Company Address")),1),p(t("input",{type:"text",name:"data[address]","onUpdate:modelValue":l[1]||(l[1]=s=>e(u).address=s),class:"input",required:""},null,512),[[y,e(u).address]])]),t("div",Rt,[t("label",null,o(e(n)("Company City")),1),p(t("input",{type:"text",name:"data[city]","onUpdate:modelValue":l[2]||(l[2]=s=>e(u).city=s),class:"input",required:""},null,512),[[y,e(u).city]])]),t("div",Ht,[t("label",null,o(e(n)("Post Code")),1),p(t("input",{type:"text",name:"data[post_code]","onUpdate:modelValue":l[3]||(l[3]=s=>e(u).post_code=s),class:"input",required:""},null,512),[[y,e(u).post_code]])]),t("div",Kt,[t("label",null,o(e(n)("Country")),1),p(t("input",{type:"text",name:"data[country]","onUpdate:modelValue":l[4]||(l[4]=s=>e(u).country=s),class:"input",required:""},null,512),[[y,e(u).country]])])]),t("div",Qt,[t("div",Gt,[t("button",Jt,[t("span",null,o(e(n)("Close")),1)]),d(U,{classes:"btn btn-primary",processing:e(u).processing,"btn-text":"Update"},null,8,["processing"])])])],32)]),t("div",Wt,[t("form",{method:"POST",onSubmit:l[9]||(l[9]=V(s=>g(e(r),"base_currency","#currencySettingDrawer"),["prevent"]))},[t("div",Xt,[t("h5",null,o(e(n)("Currency Settings")),1),t("button",Yt,[d(f,{class:"text-xl",icon:"mdi:close"})])]),t("div",Zt,[t("div",te,[t("label",null,o(e(n)("Currency Name")),1),p(t("input",{type:"text",name:"data[name]","onUpdate:modelValue":l[6]||(l[6]=s=>e(r).name=s),class:"input",required:""},null,512),[[y,e(r).name]])]),t("div",ee,[t("label",null,o(e(n)("Currency Icon")),1),p(t("input",{type:"text",name:"data[icon]","onUpdate:modelValue":l[7]||(l[7]=s=>e(r).icon=s),class:"input",required:""},null,512),[[y,e(r).icon]])]),t("div",se,[t("label",null,o(e(n)("Currency Icon")),1),p(t("select",{class:"select",name:"data[position]","onUpdate:modelValue":l[8]||(l[8]=s=>e(r).position=s)},[t("option",oe,o(e(n)("Left")),1),t("option",ne,o(e(n)("Right")),1)],512),[[I,e(r).position]])])]),t("div",ae,[t("div",le,[t("button",ie,[t("span",null,o(e(n)("Close")),1)]),d(U,{classes:"btn btn-primary",processing:e(r).processing,"btn-text":e(n)("Save Changes")},null,8,["processing","btn-text"])])])],32)]),t("div",re,[t("form",{method:"POST",onSubmit:l[11]||(l[11]=V(s=>g(e(k),"tax","#taxSettingDrawer"),["prevent"]))},[t("div",de,[t("h5",null,o(e(n)("Tax Settings")),1),t("button",ce,[d(f,{class:"text-xl",icon:"mdi:close"})])]),t("div",ue,[t("div",pe,[t("label",null,o(e(n)("Tax Amount")),1),p(t("input",{type:"number",step:"any",name:"data","onUpdate:modelValue":l[10]||(l[10]=s=>e(k).tax=s),class:"input",required:""},null,512),[[y,e(k).tax]])])]),t("div",me,[t("div",_e,[t("button",be,[t("span",null,o(e(n)("Close")),1)]),d(U,{classes:"btn btn-primary",processing:e(k).processing,"btn-text":e(n)("Save Changes")},null,8,["processing","btn-text"])])])],32),he])],64)}}});export{Pe as default};
