import{z as D,m as I,l as j,A,h as P,o as n,c as m,a as v,u as e,b as t,j as R,F as h,r as B,i,e as r,k as $,t as g,n as u,d as F,v as N,g as z,Z as U,B as l,_ as c}from"./app-eeb1ee89.js";import{_ as M}from"./AdminLayout-7bd67f05.js";import{u as G}from"./designStore-c9bdd721.js";import"./dropdown-45d66330.js";import"./fabric-3f116add.js";const J={class:"mt-4 flex h-20 flex-col items-start justify-between gap-2 px-6 lg:flex-row"},Z=t("i",{class:"bx bx-chevron-left"},null,-1),q=t("span",null,"Back",-1),H={class:"card max-w-max space-x-2 rounded-md p-2"},K=["onClick"],Q={class:"flex justify-end gap-3"},W=t("i",{class:"bx bx-memory-card text-2xl"},null,-1),X=t("span",null,"Save as draft ",-1),Y=[W,X],ee=t("i",{class:"bx bx-paper-plane text-2xl"},null,-1),te=t("span",null,"Update",-1),se=[ee,te],oe={class:"mt-2 flex min-h-[calc(100vh-12rem)]"},ae={class:"w-full overflow-y-auto px-3 lg:px-6"},ne={class:"mt-2 grid grid-cols-1 gap-y-8 lg:grid-cols-12 lg:gap-x-8"},ie={class:"card styled-scrollbar col-span-3 overflow-y-auto overflow-x-hidden rounded-2xl p-5 lg:h-[calc(100vh-13rem)]"},re={class:"col-span-9 ml-24"},le={class:"flex items-center gap-1"},ce=t("label",{class:"label"},"Opacity",-1),de={class:"label card w-10 rounded-md px-2 py-1 text-center"},_e=t("i",{class:"bx bxs-arrow-from-bottom text-xl"},null,-1),pe=[_e],me=t("i",{class:"bx bxs-arrow-from-top text-xl"},null,-1),ue=[me],be=t("i",{class:"bx bxs-trash-alt"},null,-1),xe=[be],ve=z({layout:M}),Ee=Object.assign(ve,{__name:"Edit",props:["shapes","design"],setup(_){const b=_,s=G(),{getTabState:d,getSelectedObjectState:p}=D(s),x=I(null);j(()=>{s.initializeCanvas(x.value),s.loadCanvasFromJSON(b.design.canvas,b.design)});const y=l(()=>c(()=>import("./SettingsTab-a80382a3.js"),["assets/SettingsTab-a80382a3.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/designStore-c9bdd721.js","assets/fabric-3f116add.js","assets/toastComposable-88b306f2.js"])),f=l(()=>c(()=>import("./TextTab-e329af68.js"),["assets/TextTab-e329af68.js","assets/designStore-c9bdd721.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/fabric-3f116add.js"])),k=l(()=>c(()=>import("./ShapeTab-c544b074.js"),["assets/ShapeTab-c544b074.js","assets/designStore-c9bdd721.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/fabric-3f116add.js"])),T=l(()=>c(()=>import("./ImageTab-7b1182b3.js"),["assets/ImageTab-7b1182b3.js","assets/designStore-c9bdd721.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/fabric-3f116add.js"])),E=l(()=>c(()=>import("./PlaceholderTab-26f325c3.js"),["assets/PlaceholderTab-26f325c3.js","assets/designStore-c9bdd721.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/fabric-3f116add.js"])),O=l(()=>c(()=>import("./SelectedTextTab-f0e574ec.js"),["assets/SelectedTextTab-f0e574ec.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/designStore-c9bdd721.js","assets/fabric-3f116add.js","assets/multiselect-256620e0.js"])),w=l(()=>c(()=>import("./SelectedShapeTab-1777a384.js"),["assets/SelectedShapeTab-1777a384.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/designStore-c9bdd721.js","assets/fabric-3f116add.js"])),C=l(()=>c(()=>import("./SelectedGroupTab-0227c0e4.js"),["assets/SelectedGroupTab-0227c0e4.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/designStore-c9bdd721.js","assets/fabric-3f116add.js"])),L=l(()=>c(()=>import("./SelectedImageTab-727f4ed6.js"),["assets/SelectedImageTab-727f4ed6.js","assets/app-eeb1ee89.js","assets/app-e969cddd.css","assets/designStore-c9bdd721.js","assets/fabric-3f116add.js"]));return A(()=>s.$reset()),(S,a)=>{const V=P("Link");return n(),m(h,null,[v(e(U),{title:"Design Create"}),t("div",J,[v(V,{href:S.route("admin.design.index"),class:"btn btn-dark btn-md"},{default:R(()=>[Z,q]),_:1},8,["href"]),t("div",H,[(n(!0),m(h,null,B(e(s).tabLists,o=>(n(),m("button",{key:o.label,class:u(["btn px-2 py-1 transition-colors hover:bg-primary-800/60 hover:text-white",{"btn-soft-primary":e(d)(o.label)}]),onClick:he=>e(s).setTab(o.label)},[t("i",{class:u(["bx text-xl",`${o.icon}`])},null,2)],10,K))),128))]),t("div",Q,[t("button",{onClick:a[0]||(a[0]=o=>e(s).submit("inactive",_.design.id)),class:"btn bg-secondary-100 py-1 text-secondary-950 hover:bg-secondary-300"},Y),t("button",{onClick:a[1]||(a[1]=o=>e(s).submit("active",_.design.id)),class:"btn btn-soft-primary py-1"},se)])]),t("div",oe,[t("div",ae,[t("div",ne,[t("div",ie,[e(d)("settings")?(n(),i(e(y),{key:0})):r("",!0),e(d)("text")?(n(),i(e(f),{key:1})):r("",!0),e(d)("shapes")?(n(),i(e(k),{key:2,shapes:_.shapes},null,8,["shapes"])):r("",!0),e(d)("image")?(n(),i(e(T),{key:3})):r("",!0),e(d)("placeholder")?(n(),i(e(E),{key:4})):r("",!0),e(p)("i-text")?(n(),i(e(O),{key:5})):r("",!0),e(p)("shape")?(n(),i(e(w),{key:6})):r("",!0),e(p)("group")?(n(),i(e(C),{key:7})):r("",!0),e(p)("image")?(n(),i(e(L),{key:8})):r("",!0)]),t("div",re,[$(g(e(s).canvasLoading?"loading...":"")+" ",1),t("div",{class:u(["card mb-5 mt-3 flex max-w-max items-center gap-1 rounded-md p-2",e(s).selectedObject?"visible opacity-100":"invisible opacity-0"])},[t("div",le,[ce,F(t("input",{step:"5",onInput:a[2]||(a[2]=(...o)=>e(s).changeObjectOpacity&&e(s).changeObjectOpacity(...o)),"onUpdate:modelValue":a[3]||(a[3]=o=>e(s).objectOpacity=o),class:"cursor-pointer accent-primary-600",type:"range",min:"0",max:"100"},null,544),[[N,e(s).objectOpacity]]),t("span",de,g(e(s).objectOpacity),1)]),t("button",{onClick:a[4]||(a[4]=(...o)=>e(s).bringToFront&&e(s).bringToFront(...o)),class:"btn px-2 py-1 hover:bg-primary-800/60 hover:text-white"},pe),t("button",{onClick:a[5]||(a[5]=(...o)=>e(s).sendToBack&&e(s).sendToBack(...o)),class:"btn px-2 py-1 hover:bg-primary-800/60 hover:text-white"},ue),t("button",{onClick:a[6]||(a[6]=(...o)=>e(s).remove&&e(s).remove(...o)),class:"btn p-2 hover:bg-primary-800/60 hover:text-white"},xe)],2),t("canvas",{ref_key:"canvasEl",ref:x,class:"rounded border border-secondary-200 shadow dark:border-secondary-800"},null,512)])])])])],64)}}});export{Ee as default};
